---
title: 箭头函数与普通函数的区别
top: false
cover: false
toc: true
mathjax: true
date: 2020-11-11 14:17:44
password:
summary:
tags: 'js'
categories:
---

## 箭头函数是什么？

ES6中允许使用箭头`=>`来定义箭头函数

```js
let fn = () => {
  console.log('hello')
}

let fn = function() {
  console.log)('hello')
}
```

箭头函数的参数：

1. 如果箭头函数没有参数，直接写一个空括号即可
2. 如果箭头函数的参数只有一个，也可以省去包裹参数的括号。
3. 如果箭头函数有多个参数，将参数依次用逗号(,)分隔，包裹在括号中即可。

箭头函数的函数体：

1. 如果箭头函数的函数体只有一句代码，就是简单返回某个变量或者返回一个简单的JS表达式，可以省去函数体的大括号{ }。
2.  如果箭头函数的函数体只有一句代码，就是返回一个对象，需要用圆括号包围起来。
3. 如果箭头函数的函数体只有一条语句并且不需要返回值（最常见是调用一个函数），可以给这条语句前面加一个`void`关键字

今天的重点来了：**箭头函数与普通函数的区别**到底在哪里呢？

1. 语法简单清晰

2. 箭头函数不会创建自己的 this, 它会捕获自己在**定义时**（注意，是定义时，不是调用时）所处的**外层执行环境的`this`**，并继承这个`this`值。所以，箭头函数中`this`的指向在它被定义的时候就已经确定了，之后永远不会改变，从自己的作用域链上一层继承this;

3. 箭头函数继承而来的`this`指向永远不变

4. `.call()`/`.apply()`/`.bind()`方法可以用来动态修改函数执行时`this`的指向，但由于箭头函数的`this`定义时就已经确定且永远不会改变。

5. 箭头函数不能作为构造函数使用，构造函数不能定义成箭头函数，否则用`new`调用时会报错！

   > 构造函数的new都做了些什么？简单来说，分为四步： ① JS内部首先会先生成一个对象； ② 再把函数中的this指向该对象； ③ 然后执行构造函数中的语句； ④ 最终返回该对象实例。

6. 箭头函数没有自己的`arguments`对象。在箭头函数中访问`arguments`实际上获得的是外层局部（函数）执行环境中的值。

7. 箭头函数没有原型prototype

   ```js
   let sayHi = () => {
       console.log('Hello World !')
   };
   console.log(sayHi.prototype); // undefined
   ```

8. 箭头函数不能用作Generator函数，不能使用yeild关键字

