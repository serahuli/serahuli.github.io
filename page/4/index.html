<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="/images/icons/favicon-16%C3%9716.png?v=2.1.1" type="image/png" sizes="16x16"><link rel="icon" href="/images/icons/favicon-32%C3%9732.png?v=2.1.1" type="image/png" sizes="32x32"><meta property="og:type" content="website">
<meta property="og:title" content="小狐狸の个人博客">
<meta property="og:url" content="http://example.com/page/4/index.html">
<meta property="og:site_name" content="小狐狸の个人博客">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="sera">
<meta name="twitter:card" content="summary"><title>小狐狸の个人博客</title><link ref="canonical" href="http://example.com/page/4/index.html"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.1/css/all.min.css" type="text/css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css" type="text/css"><link rel="stylesheet" href="/css/index.css?v=2.1.1"><script>var Stun = window.Stun || {};
var CONFIG = {
  root: '/',
  algolia: undefined,
  fontIcon: {"prompt":{"success":"fas fa-check-circle","info":"fas fa-arrow-circle-right","warning":"fas fa-exclamation-circle","error":"fas fa-times-circle"},"copyBtn":"fas fa-copy"},
  sidebar: {"offsetTop":"20px","tocMaxDepth":6},
  header: {"enable":true,"showOnPost":false,"scrollDownIcon":true},
  postWidget: {"endText":true},
  nightMode: {"enable":true},
  back2top: {"enable":true},
  codeblock: {"style":"carbon","highlight":"ocean","wordWrap":false},
  reward: false,
  fancybox: false,
  zoomImage: {"gapAside":"20px"},
  galleryWaterfall: undefined,
  lazyload: false,
  pjax: undefined,
  externalLink: {"icon":{"enable":true,"name":"fas fa-external-link-alt"}},
  shortcuts: undefined,
  prompt: {"copyButton":"复制","copySuccess":"复制成功","copyError":"复制失败"},
  sourcePath: {"js":"js","css":"css","images":"images"},
};

window.CONFIG = CONFIG;</script><meta name="generator" content="Hexo 5.2.0"></head><body><div class="container" id="container"><header class="header" id="header"><div class="header-inner"><nav class="header-nav header-nav--fixed"><div class="header-nav-inner"><div class="header-nav-menubtn"><i class="fas fa-bars"></i></div><div class="header-nav-menu"><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/"><span class="header-nav-menu-item__icon"><i class="fas fa-home"></i></span><span class="header-nav-menu-item__text">首页</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/archives/"><span class="header-nav-menu-item__icon"><i class="fas fa-folder-open"></i></span><span class="header-nav-menu-item__text">归档</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/categories/"><span class="header-nav-menu-item__icon"><i class="fas fa-layer-group"></i></span><span class="header-nav-menu-item__text">分类</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/tags/"><span class="header-nav-menu-item__icon"><i class="fas fa-tags"></i></span><span class="header-nav-menu-item__text">标签</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/about"><span class="header-nav-menu-item__icon"><i class="fas fa-address-card"></i></span><span class="header-nav-menu-item__text">关于</span></a></div></div><div class="header-nav-mode"><div class="mode"><div class="mode-track"><span class="mode-track-moon"></span><span class="mode-track-sun"></span></div><div class="mode-thumb"></div></div></div></div></nav><div class="header-banner"><div class="header-banner-info"><div class="header-banner-info__title">小狐狸の个人博客</div><div class="header-banner-info__subtitle">自顶向下，逐步求精</div></div><div class="header-banner-arrow"><div class="header-banner-arrow__icon"><i class="fas fa-angle-down"></i></div></div></div></div></header><main class="main" id="main"><div class="main-inner"><div class="content-wrap" id="content-wrap"><div class="content content-home" id="content"><section class="postlist"><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2020/10/22/js%E7%AE%97%E6%B3%95%E4%B9%8B%E6%8E%92%E5%BA%8F/">js算法之排序</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2020-10-22</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2020-11-23</span></span><span class="post-meta-item post-meta-item--wordcount"><span class="post-meta-item__icon"><i class="far fa-file-word"></i></span><span class="post-meta-item__info">字数统计</span><span class="post-meta-item__value">210</span></span><span class="post-meta-item post-meta-item--readtime"><span class="post-meta-item__icon"><i class="far fa-clock"></i></span><span class="post-meta-item__info">阅读时长</span><span class="post-meta-item__value">1分</span></span></div></header><div class="post-body"><div class="post-excerpt"><p>排序：9、3、4、2、6、7、5、1、8</p>
<p>从小到大</p>

        <h3 id="冒泡排序">
          <a href="#冒泡排序" class="heading-link"><i class="fas fa-link"></i></a>冒泡排序</h3>
      <p>每次比较两个相邻的元素，如果它们的顺序错误就把它们交换过来。</p>
<blockquote>
<p>9、3、4、2、6、7、5、1、8</p>
<p>3、9、4、2、6、7、5、1、8</p>
</blockquote>
<p>时间复杂度 O(n2)</p>

        <h3 id="选择排序">
          <a href="#选择排序" class="heading-link"><i class="fas fa-link"></i></a>选择排序</h3>
      
        <h3 id="插入排序">
          <a href="#插入排序" class="heading-link"><i class="fas fa-link"></i></a>插入排序</h3>
      
        <h1 id="排序">
          <a href="#排序" class="heading-link"><i class="fas fa-link"></i></a>排序</h1>
      <ul>
<li><p>比大小</p>
<blockquote>
<ul>
<li>交换（冒泡、快排）</li>
<li>插入（）</li>
<li>选择</li>
<li>归并</li>
</ul>
</blockquote>
</li>
<li></li>
</ul>

        <h2 id="冒泡排序-1">
          <a href="#冒泡排序-1" class="heading-link"><i class="fas fa-link"></i></a>冒泡排序</h2>
      <blockquote>
<ol>
<li><p>比较相邻的元素，后一个大于前一个，两个元素交换</p>
</li>
<li><p>重复比较，从第一个开始到最后一个，两两比较，除了已经固定的元素。</p>
</li>
</ol>
</blockquote>

        <h2 id="选择排序-1">
          <a href="#选择排序-1" class="heading-link"><i class="fas fa-link"></i></a>选择排序</h2>
      <blockquote>
<p>每次循环找本次循环最小的元素，把最小的元素放到固定的位置。（通过索引比较）</p>
</blockquote>

        <h2 id="插入排序-1">
          <a href="#插入排序-1" class="heading-link"><i class="fas fa-link"></i></a>插入排序</h2>
      <blockquote>
<p>把无序的数据插入到有序的队列</p>
</blockquote>

        <h2 id="快速排序">
          <a href="#快速排序" class="heading-link"><i class="fas fa-link"></i></a>快速排序</h2>
      <blockquote>
<p>o</p>
</blockquote>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2020/10/22/2020-B%E7%AB%99%E5%AD%A6%E4%B9%A0-%E5%A4%A7%E9%9D%A2%E8%AF%95%E6%80%BB%E7%BB%93/">2020前半年总结</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2020-10-22</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2020-11-23</span></span><span class="post-meta-item post-meta-item--wordcount"><span class="post-meta-item__icon"><i class="far fa-file-word"></i></span><span class="post-meta-item__info">字数统计</span><span class="post-meta-item__value">9</span></span><span class="post-meta-item post-meta-item--readtime"><span class="post-meta-item__icon"><i class="far fa-clock"></i></span><span class="post-meta-item__info">阅读时长</span><span class="post-meta-item__value">1分</span></span></div></header><div class="post-body"><div class="post-excerpt">有东西被加密了, 请输入密码查看.</div><div class="post-readmore"><a class="post-readmore__link" href="/2020/10/22/2020-B%E7%AB%99%E5%AD%A6%E4%B9%A0-%E5%A4%A7%E9%9D%A2%E8%AF%95%E6%80%BB%E7%BB%93/"><span class="post-readmore__text">阅读全文</span><span class="post-readmore__icon"><i class="fas fa-long-arrow-alt-right"></i></span></a></div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2020/10/22/css-BFC%E6%98%AF%E4%BB%80%E4%B9%88/">css BFC是什么</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2020-10-22</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2020-11-23</span></span><span class="post-meta-item post-meta-item--wordcount"><span class="post-meta-item__icon"><i class="far fa-file-word"></i></span><span class="post-meta-item__info">字数统计</span><span class="post-meta-item__value">743</span></span><span class="post-meta-item post-meta-item--readtime"><span class="post-meta-item__icon"><i class="far fa-clock"></i></span><span class="post-meta-item__info">阅读时长</span><span class="post-meta-item__value">4分</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h2 id="什么是BFC">
          <a href="#什么是BFC" class="heading-link"><i class="fas fa-link"></i></a>什么是BFC</h2>
      <p><strong>块格式化上下文（Block Formatting Context，BFC）</strong> 是Web页面的可视CSS渲染的一部分，是块盒子的布局过程发生的区域，也是浮动元素与其他元素交互的区域。</p>
<p>创建块格式化上下文的几种方式：</p>
<ul>
<li>根元素（<code>&lt;html&gt;）</code></li>
<li>浮动元素（元素的 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/float"><code>float</code></a> 不是 <code>none</code>）</li>
<li>绝对定位元素（元素的 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/position"><code>position</code></a> 为 <code>absolute</code> 或 <code>fixed</code>）</li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/overflow"><code>overflow</code></a> 值不为 <code>visible</code> 的块元素</li>
<li>行内块元素（元素的 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/display"><code>display</code></a> 为 <code>inline-block</code>）</li>
<li>表格单元格（元素的 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/display"><code>display</code></a> 为 <code>table-cell</code>，HTML表格单元格默认为该值）</li>
<li>表格标题（元素的 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/display"><code>display</code></a> 为 <code>table-caption</code>，HTML表格标题默认为该值）</li>
<li>匿名表格单元格元素（元素的 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/display"><code>display</code></a> 为 <code>table、table-row</code>、 <code>table-row-group</code>、<code>table-header-group</code>、<code>table-footer-group</code>（分别是HTML table、row、tbody、thead、tfoot 的默认属性）或 <code>inline-table</code>）</li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/display"><code>display</code></a> 值为 <code>flow-root</code> 的元素</li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/contain"><code>contain</code></a> 值为 <code>layout</code>、<code>content </code>或 paint 的元素</li>
<li>弹性元素（<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/display"><code>display</code></a> 为 <code>flex</code> 或 <code>inline-flex </code>元素的直接子元素）</li>
<li>网格元素（<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/display"><code>display</code></a> 为 <code>grid</code> 或 <code>inline-grid</code> 元素的直接子元素）</li>
<li>多列容器（元素的 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/column-count"><code>column-count</code></a> 或 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/column-width"><code>column-width</code></a> 不为 <code>auto</code>，包括 <code>column-count</code> 为 <code>1</code>）</li>
<li><code>column-span</code> 为 <code>all</code> 的元素始终会创建一个新的BFC，即使该元素没有包裹在一个多列容器中（<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://github.com/w3c/csswg-drafts/commit/a8634b96900279916bd6c505fda88dda71d8ec51">标准变更</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>，<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://bugs.chromium.org/p/chromium/issues/detail?id=709362">Chrome bug</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>）。</li>
</ul>
<p>总结一下就是：</p>
<ul>
<li>HTML 根元素</li>
<li>float 不为 none</li>
<li>overflow 不为 visible</li>
<li>position 为 fixed 或者 absolute</li>
<li>display 的值 为 inline-block,  flex相关属性, table以及table相关属性，grid相关属性</li>
</ul>
<p>可以理解块格式化上下文是一个独立的渲染区域，不继承父级的渲染区域，规定了元素内部如何进行布局。</p>
<blockquote>
<p><strong>FC</strong>是formatting context的首字母缩写，直译过来是格式化上下文，它<strong>是页面中的一块渲染区域</strong>，有一套渲染规则，决定了其子元素如何布局，以及和其他元素之间的关系和作用。常见的FC有BFC、IFC（行级格式化上下文），还有GFC（网格布局格式化上下文）和FFC（自适应格式化上下文）</p>
</blockquote>
<p>BFC 可以简单的理解为<strong>某个元素的一个 CSS 属性</strong>，只不过这个属性<strong>不能被开发者显式的修改</strong>，拥有这个属性的元素对内部元素和外部元素会表现出一些特性。</p>

        <h2 id="BFC布局规则：">
          <a href="#BFC布局规则：" class="heading-link"><i class="fas fa-link"></i></a>BFC布局规则：</h2>
      <ol>
<li><p>区域内部元素在垂直方向默认排列</p>
</li>
<li><p>同一个区域的 两个相邻元素的 margin会发生重叠，保留最大的</p>
</li>
</ol>
<p>3.每个元素的margin box的左边， 与包含块border box的左边相接触(对于从左往右的格式化，否则相反)。即使存在浮动也是如此。</p>
<p>4.BFC的区域不会与float box重叠。</p>
<p>5.BFC就是页面上的一个隔离的独立容器，容器里面的子元素不会影响到外面的元素。反之也如此。</p>
<p>6.计算BFC的高度时，浮动元素也参与计算</p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2020/10/12/%E5%89%8D%E7%AB%AF%E5%88%B7%E9%A2%98-%E9%A2%98%E7%9B%AE%E8%80%83%E5%AF%9F%E7%9F%A5%E8%AF%86%E7%82%B9/">js易混淆</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2020-10-12</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2020-11-23</span></span><span class="post-meta-item post-meta-item--wordcount"><span class="post-meta-item__icon"><i class="far fa-file-word"></i></span><span class="post-meta-item__info">字数统计</span><span class="post-meta-item__value">190</span></span><span class="post-meta-item post-meta-item--readtime"><span class="post-meta-item__icon"><i class="far fa-clock"></i></span><span class="post-meta-item__info">阅读时长</span><span class="post-meta-item__value">1分</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h1 id="js">
          <a href="#js" class="heading-link"><i class="fas fa-link"></i></a>js</h1>
      
        <h2 id="js的this指向">
          <a href="#js的this指向" class="heading-link"><i class="fas fa-link"></i></a>js的this指向</h2>
      <ol>
<li><pre><code class="javascript">function Foo()&#123;
    console.log(this.location)
&#125;
Foo();
<figure class="highlight plain"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">   ![image-20201012112836309](前端刷题-题目考察知识点&#x2F;js-location.png)</span><br><span class="line"></span><br><span class="line">## js 原型</span><br><span class="line"></span><br><span class="line">1. &#96;&#96;&#96;javascript</span><br><span class="line">   function A() &#123;</span><br><span class="line">       this.do &#x3D; function() &#123; return &#39;foo&#39; &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   A.prototype &#x3D; function () &#123;</span><br><span class="line">       this.do &#x3D; function() &#123; return &#39;bar&#39; &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   var x &#x3D; new A().do();</span><br><span class="line">   console.log(x) &#x2F;&#x2F; foo</span><br></pre></td></tr></table></div></figure></code></pre>
</li>
<li></li>
</ol>

        <h2 id="js-字符串匹配">
          <a href="#js-字符串匹配" class="heading-link"><i class="fas fa-link"></i></a>js 字符串匹配</h2>
      <blockquote>
<p>从字符串 const str = ‘qwbewrbbeqqbbbweebbbbqee’;中能得到结果 [“b”, “bb”, “bbb”, “bbbb”] 以下错误语句是？ B</p>
<p>A . str.match(/b+/g)</p>
<p>B. str.match(/b*/g)</p>
<p>C. str.match(/b{1,4}/g)</p>
<p>D. str.match(/b{1,5}/g)</p>
</blockquote>

        <h2 id="Js-数组">
          <a href="#Js-数组" class="heading-link"><i class="fas fa-link"></i></a>Js 数组</h2>
      <blockquote>
<p>如何判断一个js对象是否是Array,arr为要判断的对象，其中最准确的方法是？ D</p>
<p>A . typeof(arr)</p>
<p>B. arr instanceof Array</p>
<p>C. arr.toString===’[object Array]’;</p>
<p>D. Object.prototype.toString.call(arr) === ‘[object Array]’;</p>
</blockquote>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/">图解《HTTP》学习</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2020-09-28</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2020-11-23</span></span><span class="post-meta-item post-meta-item--wordcount"><span class="post-meta-item__icon"><i class="far fa-file-word"></i></span><span class="post-meta-item__info">字数统计</span><span class="post-meta-item__value">8.3k</span></span><span class="post-meta-item post-meta-item--readtime"><span class="post-meta-item__icon"><i class="far fa-clock"></i></span><span class="post-meta-item__info">阅读时长</span><span class="post-meta-item__value">46分</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h2 id="Web-及网络基础">
          <a href="#Web-及网络基础" class="heading-link"><i class="fas fa-link"></i></a>Web 及网络基础</h2>
      
        <h3 id="使用-HTTP-协议访问-Web">
          <a href="#使用-HTTP-协议访问-Web" class="heading-link"><i class="fas fa-link"></i></a>使用 HTTP 协议访问 Web</h3>
      <p>​    在网页浏览器（Web browser）的地址栏中输入 URL ,Web 页面如何呈现</p>
<blockquote>
<p>Web 使用一种名为 HTTP（HyperText Transfer Protocol，超文本传输协议 ）的协议作为规范，完成（客户端和服务端）通信流程。</p>
</blockquote>
<p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/1.1%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%9C%8D%E5%8A%A1%E7%AB%AF%E9%80%9A%E4%BF%A1.png" alt="image-20200924202033786"></p>
<ul>
<li><p>URL： Uniform Resource Locator，统一资源定位符</p>
</li>
<li><p>SGML： Standard Generalized Markup Language，标准通用标记语言</p>
</li>
<li><p>HTML：HyperText Markup Language，超文本标记语言</p>
</li>
<li><p>URI：Uniform Resource Identifier，统一资源标识符</p>
</li>
<li><p>URN： URI的历史名字， <strong>U</strong>niform <strong>R</strong>esource <strong>N</strong>ame</p>
<p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/URL-URI-URN.png" alt="image-20200924203922034"></p>
</li>
</ul>

        <h3 id="网络基础-TCP-IP">
          <a href="#网络基础-TCP-IP" class="heading-link"><i class="fas fa-link"></i></a>网络基础 TCP/IP</h3>
      <blockquote>
<p>通常使用的网络（包括互联网）是在 TCP/IP 协议族的基础上运作的。而 HTTP 属于它内部的一个子集。 </p>
</blockquote>

        <h4 id="TCP-IP-协议族">
          <a href="#TCP-IP-协议族" class="heading-link"><i class="fas fa-link"></i></a>TCP/IP 协议族</h4>
      <p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/%E5%8D%8F%E8%AE%AE%E6%97%8F.png" alt="image-20200924205208400"></p>
<p>​                        <strong>TCP/IP</strong> 是互联网相关的各类协议族的总称</p>
<blockquote>
<p>把与互联网相关联的协议集合起来总称为 TCP/IP。也有说法认为，TCP/IP 是指 TCP 和 IP 这两种协议。还有一种说法认为，TCP/IP 是在 IP 协议的通信过程中，使用到的协议族的统称。 </p>
</blockquote>

        <h4 id="TCP-IP-的分层管理">
          <a href="#TCP-IP-的分层管理" class="heading-link"><i class="fas fa-link"></i></a>TCP/IP 的分层管理</h4>
      <blockquote>
<p>TCP/IP 协议族按层次分别分为以下 4 层：应用层、传输层、网络层和数据链路层。</p>
</blockquote>
<p>层次化好处：如果互联网只由一个协议统筹，某个地方需要改变设计时，就必须把所有部分整体替换掉。而分层之后只需把变动的层替换掉即可。把各层之间的接口部分规划好之后，每个层次内部的设计就能够自由改动了</p>
<p><u><strong>TCP/IP 协议族各层的作用</strong></u></p>
<ul>
<li><p>应用层 </p>
<blockquote>
<p>应用层决定了向用户提供应用服务时通信的活动。</p>
<p>TCP/IP 协议族内预存了各类通用的应用服务。比如，FTP（File </p>
<p>Transfer Protocol，文件传输协议）和 DNS（Domain Name System，域名系统）服务就是其中两类。 HTTP 协议也处于该层。</p>
</blockquote>
</li>
<li><p>传输层</p>
<blockquote>
<p>传输层对上层应用层，提供处于网络连接中的两台计算机之间的数据传输。 </p>
<p>在传输层有两个性质不同的协议：TCP（Transmission Control </p>
<p>Protocol，传输控制协议）和 UDP（User Data Protocol，用户数据报协议）。</p>
</blockquote>
</li>
<li><p>网络层（又名网络互连层） </p>
<blockquote>
<p>网络层用来处理在网络上流动的数据包。数据包是网络传输的最小数 据单位。该层规定了通过怎样的路径（所谓的传输路线）到达对方计 算机，并把数据包传送给对方。 </p>
<p>与对方计算机之间通过多台计算机或网络设备进行传输时，网络层所起的作用就是在众多的选项内选择一条传输路线。 </p>
</blockquote>
</li>
<li><p>链路层（又名数据链路层，网络接口层） </p>
<blockquote>
<p>用来处理连接网络的硬件部分。包括控制操作系统、硬件的设备驱动、NIC（Network Interface Card，网络适配器，即网卡），及光纤等物理可见部分（还包括连接器等一切传输媒介）。硬件上的范畴均在链路层的作用范围之内。 </p>
</blockquote>
</li>
</ul>

        <h4 id="TCP-IP-通信传输流">
          <a href="#TCP-IP-通信传输流" class="heading-link"><i class="fas fa-link"></i></a>TCP/IP 通信传输流</h4>
      <p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/TCP:IP通信.png" alt="image-20200924210312606"></p>
<p>发送端从应用层往下走，接收端则往应用层上走。</p>
<ul>
<li>发送端的客户端在应用层（HTTP 协议）发出一个想看某个 Web 页面的 HTTP 请求。 </li>
<li>在传输层（TCP 协议）把从应用层处收到的数据（HTTP 请求报文）进行分割，并在各个报文上打上标记序号及端口号后转发给网络层。 </li>
<li>网络层（IP 协议），增加作为通信目的地的 MAC 地址后转发给链路层。</li>
<li>接收端的服务器在链路层接收到数据，按序往上层发送，一直到应用层。当传输到应用层，才能算真正接收到由客户端发送过来的 HTTP请求。 </li>
</ul>
<p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/http%E8%AF%B7%E6%B1%82-%E5%B1%95%E7%A4%BA%E9%A1%B5%E9%9D%A2.png" alt="image-20200924210759549"></p>
<blockquote>
<p>发送端在层与层之间传输数据时，每经过一层时必定会被打上一个该层所属的首部信息。反之，接收端在层与层传输数据时，每经过一层时会把对应的首部消去。 =&gt;&gt; 封装（encapsulate）</p>
</blockquote>

        <h3 id="IP、TCP-和-DNS">
          <a href="#IP、TCP-和-DNS" class="heading-link"><i class="fas fa-link"></i></a>IP、TCP 和 DNS</h3>
      
        <h4 id="负责传输的-IP-协议">
          <a href="#负责传输的-IP-协议" class="heading-link"><i class="fas fa-link"></i></a>负责传输的 IP 协议</h4>
      <blockquote>
<p>IP（Internet Protocol）网际协议位于网络层。</p>
<p>IP 协议的作用是把各种数据包传送给对方。</p>
</blockquote>
<ul>
<li><p>IP 地址： 指明了节点被分配到的地址</p>
</li>
<li><p>MAC地址（Media Access Control Address）： 指网卡所属的固定 </p>
<p>地址</p>
</li>
</ul>
<blockquote>
<p>IP 地址可以和 MAC 地址进行配对。IP 地址可变换，但 MAC地址基本上不会更改。 </p>
</blockquote>
<blockquote>
<p>使用 <strong>ARP</strong> 协议凭借 <strong>MAC</strong> 地址进行通信</p>
</blockquote>
<p>ARP 是一种用以解析地址的协议，根据通信方的 IP 地址就可以反查出对应的 MAC 地址。</p>
<p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/ARP%E5%8D%8F%E8%AE%AE.png" alt="image-20200924214818908"></p>

        <h4 id="确保可靠性的-TCP-协议">
          <a href="#确保可靠性的-TCP-协议" class="heading-link"><i class="fas fa-link"></i></a>确保可靠性的 TCP 协议</h4>
      <p>TCP 位于传输层，提供可靠的字节流服务</p>
<blockquote>
<p>字节流服务（Byte Stream Service）是指，为了方便传输，将大块数据分割成以报文段（segment）为单位的数据包进行管理。</p>
</blockquote>
<p>TCP 协议采用了三次握手（three-way handshaking）策略</p>
<blockquote>
<p>握手过程中使用了 TCP 的标志（flag） —— SYN（synchronize）和ACK（acknowledgement）。 </p>
</blockquote>
<p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B.png" alt="image-20200924215759259"></p>
<blockquote>
<p>发送端首先发送一个带 SYN 标志的数据包给对方。接收端收到后,回传一个带有 SYN/ACK 标志的数据包以示传达确认信息。最后，发送端再回传一个带 ACK 标志的数据包，代表“握手”结束。若在握手过程中某个阶段莫名中断，TCP 协议会再次以相同的顺序发 送相同的数据包。 </p>
</blockquote>

        <h3 id="负责域名解析的-DNS-服务">
          <a href="#负责域名解析的-DNS-服务" class="heading-link"><i class="fas fa-link"></i></a>负责域名解析的 DNS 服务</h3>
      <p>​        DNS（Domain Name System）服务是和 HTTP 协议一样位于应用层的协议。它提供域名到 IP 地址之间的解析服务。 </p>
<blockquote>
<p>DNS 协议提供通过域名查找 IP 地址，或逆向从 IP 地址反查域名的服务。 </p>
</blockquote>
<p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90.png" alt="image-20200924220335484"></p>

        <h3 id="各种协议与-HTTP-协议的关系">
          <a href="#各种协议与-HTTP-协议的关系" class="heading-link"><i class="fas fa-link"></i></a>各种协议与 HTTP 协议的关系</h3>
      <p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/%E8%AF%B7%E6%B1%82%E5%85%A8%E8%BF%87%E7%A8%8B%E7%A4%BA%E6%84%8F%E5%9B%BE.png" alt="image-20200924220541251"></p>

        <h3 id="URI-和-URL">
          <a href="#URI-和-URL" class="heading-link"><i class="fas fa-link"></i></a>URI 和 URL</h3>
      <p>统一资源标识符： URI、Uniform Resource Identifier</p>
<p><strong>Uniform</strong>：规定统一的格式可方便处理多种不同类型的资源，而不用根据上下文 环境来识别资源指定的访问方式。如： http:或 ftp:</p>
<p><strong>Resource</strong>： 资源的定义是“可标识的任何东西”。除了文档文件、图像或服务（例 如当天的天气预报）等能够区别于其他类型的，全都可作为资源。另外，资源不仅可以是单一的，也可以是多数的集合体。</p>
<p><strong>Identifier</strong>：可标识的对象。也称为标识符。 </p>
<p>**URI 就是由某个协议方案表示的资源的定位标识符。协议 方案是指访问资源所使用的协议类型名称。 **</p>
<blockquote>
<p>URI 用字符串标识某一互联网资源，而 URL表示资源的地点, URL是 URI 的子集。</p>
</blockquote>

        <h4 id="URI-格式">
          <a href="#URI-格式" class="heading-link"><i class="fas fa-link"></i></a>URI 格式</h4>
      <blockquote>
<p>表示指定的 URI，要使用涵盖全部必要信息的绝对 URI、绝对 URL以及相对 URL。相对 URL，是指从浏览器中基本 URI 处指定的 URL，形如<code>/image/logo.gif</code>。 </p>
</blockquote>
<p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/%E7%BB%9D%E5%AF%B9URI.png" alt="image-20200924221406588"></p>
<ul>
<li>使用 http: 或 https: 等协议方案名获取访问资源时要指定协议类型。不区分字母大小写，最后附一个冒号（:）。 也可使用 data: 或 javascript: 这类指定数据或脚本程序的方案名。</li>
<li>登录信息(认证): 指定用户名和密码作为从服务器端获取资源时必要的登录信息(身份认证)。此项是可选项。 </li>
<li>服务器地址: 使用绝对 <code>URI</code> 必须指定待访问的服务器地址。地址可以是类似<code>hackr.jp</code> 这种 <code>DNS</code> 可解析的名称，或是 <code>192.168.1.1</code> 这类 <code>IPv4</code> 地址 名，还可以是<code>[0:0:0:0:0:0:0:1]</code>这样用方括号括起来的<code>IPv6</code>地址名。 </li>
<li>服务器端口号 : 指定服务器连接的网络端口号。此项也是可选项，若用户省略则自动使用默认端口号。 </li>
<li>带层次的文件路径: 指定服务器上的文件路径来定位特指的资源。</li>
<li>查询字符串: 针对已指定的文件路径内的资源，可以使用查询字符串传入任意参数。此项可选。</li>
<li>片段标识符: 使用片段标识符通常可标记出已获取资源中的子资源（文档内的某个位置）。但在 RFC 中并没有明确规定其使用方法。该项也为可选项。 </li>
</ul>
<hr>

        <h2 id="简单的-HTTP-协议">
          <a href="#简单的-HTTP-协议" class="heading-link"><i class="fas fa-link"></i></a>简单的 HTTP 协议</h2>
      
        <h3 id="HTTP-协议">
          <a href="#HTTP-协议" class="heading-link"><i class="fas fa-link"></i></a>HTTP 协议</h3>
      <p><strong>HTTP</strong> 协议用于客户端和服务器端之间 的通信 </p>
<ul>
<li>请求访问文本或图像等资源的一端称为客户端</li>
<li>提供资源响应的一端称为服务器端。</li>
</ul>
<blockquote>
<p>请求必定由客户端发出，而服务器端回复响应</p>
</blockquote>
<p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%9C%8D%E5%8A%A1%E7%AB%AF%E9%80%9A%E4%BF%A1.png" alt="image-20200925115528797"></p>
<blockquote>
<p>请求报文中的内容:</p>
<figure class="highlight txt"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GET /index.htm HTTP/1.1</span><br><span class="line">Host: hackr.jp</span><br></pre></td></tr></table></div></figure>

<ul>
<li><code>GET</code>表示请求访问服务器的类型，称为方法 </li>
<li><code>/index.htm</code> 指明了请求访问的资源对象, 也叫做请求 <code>URI（request-URI）</code></li>
<li><code>HTTP/1.1</code>，即 HTTP 的版本号，用来提示客户端使用的 HTTP 协议功能。 </li>
</ul>
</blockquote>
<p>​        请求报文是由请求方法、请求 URI、协议版本、可选的请求首部字段和内容实体构成的。</p>
<p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/%E8%AF%B7%E6%B1%82%E6%8A%A5%E6%96%87.png" alt="image-20200925115852997"></p>
<p>​        接收到请求的服务器，会将请求内容的处理结果以响应的形式返回。</p>
<blockquote>
<p>响应内容：</p>
<figure class="highlight txt"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Date: Tue, 10 Jul 2012 06:50:15 GMT</span><br><span class="line">Content-Length: 362</span><br><span class="line">Content-Type: text/html</span><br><span class="line">&lt;html&gt;</span><br><span class="line">……</span><br></pre></td></tr></table></div></figure>

<ul>
<li><code> HTTP/1.1</code>表示服务器对应的 <code>HTTP</code>版本</li>
<li><code>200 OK</code> 表示请求的处理结果的状态码（status code）和原因短语（reason-phrase）。</li>
<li>创建响应的日期时间，是首部字段（header field）内的一个属性。 </li>
<li>接着以一空行分隔，之后的内容称为资源实体的主体（entity body）</li>
</ul>
</blockquote>
<p>​        响应报文基本上由协议版本、状态码（表示请求成功或失败的数字代码）、用以解释状态码的原因短语、可选的响应首部字段以及实体主体构成。</p>
<p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/%E5%93%8D%E5%BA%94%E6%8A%A5%E6%96%87.png" alt="image-20200925123924929"></p>
<p>​        HTTP 是一种不保存状态，即无状态（stateless）协议。在 HTTP 这个级别，协议对于发送过的请求或响应都不做持久化处理。     <strong>HTTP</strong> 协议自身不具备保存之前发送过的请求或响应的功能 ===&gt; 确保协议的可伸缩性</p>
<blockquote>
<p>HTTP/1.1 虽然是无状态协议，但为了实现期望的保持状态功能，于是引入了 Cookie 技术</p>
</blockquote>
<p>​        <strong>HTTP</strong> 协议使用 <strong>URI</strong> 让客户端定位到资源</p>
<blockquote>
<p>当客户端请求访问资源而发送请求时，URI 需要将作为请求报文中的请求 URI 包含在内。指定请求 URI 的方式有很多。</p>
<ul>
<li><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/%E6%8C%87%E5%AE%9A%E8%AF%B7%E6%B1%82URI.png" alt="image-20200925143832574"></li>
</ul>
<p>如果不是访问特定资源而是对服务器本身发起请求，可以用一个 * 来代替请求 URI。</p>
</blockquote>
<hr>

        <h3 id="告知服务器意图的-HTTP-方法">
          <a href="#告知服务器意图的-HTTP-方法" class="heading-link"><i class="fas fa-link"></i></a>告知服务器意图的 HTTP 方法</h3>
      <ul>
<li><p><strong>GET</strong> ：获取资源</p>
<p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/get%E8%AF%B7%E6%B1%82.png" alt="image-20200925150001048"></p>
</li>
<li><p><strong>POST</strong>：传输实体主体 </p>
<p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/post%E6%96%B9%E6%B3%95.png" alt="image-20200925150020631"></p>
</li>
<li><p><strong>PUT</strong>：传输文件</p>
<blockquote>
<p>PUT 方法用来传输文件。就像 FTP 协议的文件上传一样，要求在请求报文的主体中包含文件内容，然后保存到请求 URI 指定的位置。 但是，鉴于 HTTP/1.1 的 PUT 方法自身不带验证机制，任何人都可以上传文件 , 存在安全性问题，因此一般的 Web 网站不使用该方法。若 配合 Web 应用程序的验证机制，或架构设计采用 REST（REpresentational State Transfer，表征状态转移）标准的同类 Web 网站，就可能会开放使用 PUT 方法。 </p>
</blockquote>
<p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/PUT%E6%96%B9%E6%B3%95.png" alt="image-20200925150513613"></p>
</li>
<li><p><strong>HEAD</strong>：获得报文首部</p>
<blockquote>
<p>HEAD 方法和 GET 方法一样，只是不返回报文主体部分。用于确认 URI 的有效性及资源更新的日期时间等。 </p>
</blockquote>
<p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/HEAD%E6%96%B9%E6%B3%95.png" alt="image-20200925151535866"></p>
</li>
<li><p><strong>DELETE</strong>： 删除文件 </p>
<blockquote>
<p>DELETE 方法用来删除文件，是与 PUT 相反的方法。DELETE 方法按 请求 URI 删除指定的资源。 HTTP/1.1 的 DELETE 方法本身和 PUT 方法一样不带验证机制，所以一般的 Web 网站也不使用 DELETE 方法。当配合 Web 应用程序的验证机制，或遵守 REST 标准时还是有可能会开放使用的。 </p>
</blockquote>
<p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/DELETE%E6%96%B9%E6%B3%95.png" alt="image-20200925151829395"></p>
</li>
<li><p><strong>OPTIONS</strong>：询问支持的方法 </p>
<blockquote>
<p>OPTIONS 方法用来查询针对请求 URI 指定的资源支持的方法。</p>
</blockquote>
<p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/OPTIONS%E6%96%B9%E6%B3%95.png" alt="image-20200925152411782"></p>
</li>
<li><p><strong>TRACE</strong>：追踪路径</p>
<blockquote>
<p>TRACE 方法是让 Web 服务器端将之前的请求通信环回给客户端的方法。发送请求时，在 Max-Forwards 首部字段中填入数值，每经过一个服务器端就将该数字减 1，当数值刚好减到 0 时，就停止继续传输，最后接收到请求的服务器端则返回状态码 200 OK 的响应。 客户端通过 TRACE 方法可以查询发送出去的请求是怎样被加工修改 / 篡改的。这是因为，请求想要连接到源目标服务器可能会通过代理中转，TRACE 方法就是用来确认连接过程中发生的一系列操作。</p>
</blockquote>
<blockquote>
<p>容易引发 <code>XST（Cross-Site Tracing，跨站追踪）</code>攻击</p>
</blockquote>
<p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/TRACE%E6%96%B9%E6%B3%95.png" alt="image-20200925155234638"></p>
</li>
<li><p><strong>CONNECT</strong>：要求用隧道协议连接代理 </p>
<blockquote>
<p>CONNECT 方法要求在与代理服务器通信时建立隧道，实现用隧道协议进行 TCP 通信。主要使用 SSL（Secure Sockets Layer，安全套接 层）和 TLS（Transport Layer Security，传输层安全）协议把通信内容加 密后经网络隧道传输。 </p>
<figure class="highlight txt"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CONNECT 代理服务器名:端口号 HTTP版本</span><br></pre></td></tr></table></div></figure>
</blockquote>
<p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/CONNECT%E6%96%B9%E6%B3%95.png" alt="image-20200925155459958"></p>
</li>
</ul>
<p>向请求 URI 指定的资源发送请求报文时，采用称为<strong>方法的命令</strong>。</p>
<p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/HTTP%E6%94%AF%E6%8C%81%E7%9A%84%E6%96%B9%E6%B3%95.png" alt="image-20200925161441259"></p>
<hr>

        <h3 id="持久连接节省通信量">
          <a href="#持久连接节省通信量" class="heading-link"><i class="fas fa-link"></i></a>持久连接节省通信量</h3>
      <blockquote>
<p>HTTP 协议的初始版本中，每进行一次 HTTP 通信就要断开一次 TCP连接。</p>
</blockquote>
<p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/TCP%E4%B8%89%E6%AC%A1%E8%BF%9E%E6%8E%A5%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B.png" alt="image-20200925161734608"> </p>
<blockquote>
<p>浏览器浏览一个包含多张图片的 HTML页面时，在发送请求访问 HTML页面资源的同时，也会请求该 HTML页面里包含的其他资源。因此，每次的请求都会造成无谓的 TCP 连接建立和断开，增加通信量的开销。 </p>
</blockquote>
<p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/TCP%E9%9D%9E%E6%8C%81%E4%B9%85%E8%BF%9E%E6%8E%A5%E7%9A%84%E7%BC%BA%E7%82%B9.png" alt="image-20200925163259558"></p>

        <h4 id="持久连接">
          <a href="#持久连接" class="heading-link"><i class="fas fa-link"></i></a>持久连接</h4>
      <blockquote>
<p>为解决上述 <code>TCP</code> 连接的问题，<code>HTTP/1.1</code> 和一部分的 <code>HTTP/1.0</code> 想出了持久连接（<code>HTTP Persistent Connections</code>，也称为 <code>HTTP keep-alive</code> 或 <code>HTTP connection reuse</code>）的方法。持久连接的特点是，只要任意一端 没有明确提出断开连接，则保持 TCP 连接状态</p>
</blockquote>
<p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/%E6%8C%81%E4%B9%85%E8%BF%9E%E6%8E%A5.png" alt="image-20200925171026600"></p>
<blockquote>
<p>持久连接的好处在于减少了 TCP 连接的重复建立和断开所造成的额外开销，减轻了服务器端的负载。另外，减少开销的那部分时间，使 HTTP 请求和响应能够更早地结束，这样 Web 页面的显示速度也就相 应提高了。 </p>
</blockquote>

        <h4 id="管线化">
          <a href="#管线化" class="heading-link"><i class="fas fa-link"></i></a>管线化</h4>
      <blockquote>
<p>持久连接使得多数请求以管线化（pipelining）方式发送成为可能。从前发送请求后需等待并收到响应，才能发送下一个请求。管线化技术出现后，不用等待响应亦可直接发送下一个请求。这样就能够做到同时并行发送多个请求，而不需要一个接一个地等待 响应了。 </p>
</blockquote>
<p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/%E7%AE%A1%E7%BA%BF%E5%8C%96.png" alt="image-20200925171759807"></p>
<hr>

        <h3 id="使用-Cookie-的状态管理">
          <a href="#使用-Cookie-的状态管理" class="heading-link"><i class="fas fa-link"></i></a>使用 Cookie 的状态管理</h3>
      <blockquote>
<p>HTTP 是无状态协议，它不对之前发生过的请求和响应的状态进行管理。也就是说，无法根据之前的状态进行本次的请求处理。 </p>
</blockquote>
<p>Cookie 技术通过在请求和响应报文中写入 Cookie 信息来控制客户端的状态。</p>
<blockquote>
<p> Cookie 会根据从服务器端发送的响应报文内的一个叫做 Set-Cookie 的首部字段信息，通知客户端保存 Cookie。当下次客户端再往该服务器发送请求时，客户端会自动在请求报文中加入 Cookie 值后发送出去。</p>
</blockquote>
<blockquote>
<p>服务器端发现客户端发送过来的 Cookie 后，会去检查究竟是从哪一 个客户端发来的连接请求，然后对比服务器上的记录，最后得到之前 的状态信息。</p>
</blockquote>
<ul>
<li><p>没有 <strong>Cookie</strong> 信息状态下的请求</p>
<p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/%E6%B2%A1%E6%9C%89cookie%E4%BF%A1%E6%81%AF%E7%8A%B6%E6%80%81%E4%B8%8B%E7%9A%84%E8%AF%B7%E6%B1%82.png" alt="image-20200925173525411"></p>
</li>
<li><p>第 <strong>2</strong> 次以后（存有 <strong>Cookie</strong> 信息状态）的请求 </p>
<p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/%E7%AC%AC2%E6%AC%A1%E4%BB%A5%E5%90%8E%EF%BC%88%E5%AD%98%E6%9C%89Cookie%E4%BF%A1%E6%81%AF%E7%8A%B6%E6%80%81%EF%BC%89%E7%9A%84%E8%AF%B7%E6%B1%82.png" alt="image-20200925173555179"></p>
</li>
</ul>
<ol>
<li><p>请求报文（没有 <strong>Cookie</strong> 信息的状态)</p>
<figure class="highlight txt"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">GET /reader/ HTTP/1.1</span><br><span class="line">Host: hackr.jp</span><br><span class="line">首部字段内没有Cookie的相关信息</span><br></pre></td></tr></table></div></figure>
</li>
<li><p>响应报文（服务器端生成 <strong>Cookie</strong> 信息） </p>
<figure class="highlight txt"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Date: Thu, 12 Jul 2012 07:12:20 GMT</span><br><span class="line">Server: Apache </span><br><span class="line">＜Set-Cookie: sid=1342077140226724; path=/; expires=Wed, 10-Oct-12 07:12:20 GMT＞ </span><br><span class="line">Content-Type: text/plain; charset=UTF-8</span><br></pre></td></tr></table></div></figure>
</li>
<li><p>请求报文（自动发送保存着的 <strong>Cookie</strong> 信息） </p>
<figure class="highlight txt"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">GET /image/ HTTP/1.1</span><br><span class="line">Host: hackr.jp</span><br><span class="line">Cookie: sid=1342077140226724</span><br></pre></td></tr></table></div></figure>

</li>
</ol>
<hr>

        <h2 id="HTTP-报文内的-HTTP信息">
          <a href="#HTTP-报文内的-HTTP信息" class="heading-link"><i class="fas fa-link"></i></a>HTTP 报文内的 HTTP信息</h2>
      <blockquote>
<p>HTTP 通信过程包括从客户端发往服务器端的请求及从服务器端返回客户端的响应。</p>
</blockquote>

        <h3 id="HTTP-报文">
          <a href="#HTTP-报文" class="heading-link"><i class="fas fa-link"></i></a>HTTP 报文</h3>
      <blockquote>
<ul>
<li>用于 HTTP 协议交互的信息被称为 HTTP 报文。</li>
<li>请求端（客户端）的HTTP 报文叫做请求报文，响应端（服务器端）的叫做响应报文。 </li>
<li>HTTP 报文本身是由多行(用 CR+LF 作换行符)数据构成的字符串文本。</li>
<li>HTTP 报文大致可分为报文首部和报文主体(不一定有)两块。</li>
</ul>
</blockquote>
<p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/http%E6%8A%A5%E6%96%87%E7%BB%93%E6%9E%9C.png" alt="image-20200927100611130"></p>
<p>图： 请求报文结构</p>
<p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/%E8%AF%B7%E6%B1%82%E6%8A%A5%E6%96%87%E7%BB%93%E6%9E%84.png" alt="image-20200927100701308"></p>
<p>图： 请求报文结构</p>
<p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/%E8%AF%B7%E6%B1%82%E6%8A%A5%E6%96%87%E5%AE%9E%E4%BE%8B.png" alt="image-20200927100821984"></p>
<p>图： 请求报文实例</p>
<p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/%E5%93%8D%E5%BA%94%E6%8A%A5%E6%96%87%E7%BB%93%E6%9E%84.png" alt="image-20200927100910079"></p>
<p>图： 响应报文结构</p>
<p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/%E5%93%8D%E5%BA%94%E6%8A%A5%E6%96%87%E5%AE%9E%E4%BE%8B.png" alt="image-20200927100958443"></p>
<p>图： 响应报文实例</p>
<p><strong>首部字段</strong></p>
<ol>
<li><p>请求行: 包含用于请求的方法，请求 URI 和 HTTP 版本</p>
</li>
<li><p>状态行 :  包含表明响应结果的状态码，原因短语和 HTTP 版本。</p>
</li>
<li><p>首部字段:  包含表示请求和响应的各种条件和属性的各类首部。</p>
<ul>
<li><p>通用首部</p>
<blockquote>
<p>请求报文和响应报文两方都会使用的首部</p>
</blockquote>
</li>
<li><p>请求首部</p>
<blockquote>
<p>从客户端向服务器端发送请求报文时使用的首部</p>
</blockquote>
</li>
<li><p>响应首部</p>
<blockquote>
<p>从服务器端向客户端返回响应报文时使用的首部</p>
</blockquote>
</li>
<li><p>实体首部</p>
<blockquote>
<p>针对请求报文和响应报文实体部分使用的首部</p>
</blockquote>
</li>
<li><p>可能包含 HTTP 的 RFC 里未定义的首部（Cookie 等）</p>
</li>
</ul>
</li>
</ol>
<p>首部字段详解</p>
<div class="table-container"><table>
<thead>
<tr>
<th align="center">实体首部字段</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">Allow</td>
<td align="center">用于通知客户端能够支持Request-URI指定资源的所有HTTP方法 当服务器接收到不支持的HTTP方法时,会以状态码405 Method Not Allowed返回</td>
</tr>
<tr>
<td align="center">Content-Encoding</td>
<td align="center">告知客户端服务器对实体的主题部分选用的内容编码格式 内容编码指在不丢失实体信息的前提下进行的压缩</td>
</tr>
<tr>
<td align="center">Content-Language</td>
<td align="center">告知客户端实体主体使用的语言</td>
</tr>
<tr>
<td align="center">Content-Length</td>
<td align="center">表明实体主体部分大小</td>
</tr>
<tr>
<td align="center">Content-Location</td>
<td align="center">报文主体返回资源对应的URI</td>
</tr>
<tr>
<td align="center">Content-MD5</td>
<td align="center">目的在于检查报文主体在传输过程中是否保持完整,以及确认传输到达</td>
</tr>
<tr>
<td align="center">Content-Range</td>
<td align="center">告知客户端作为响应返回的实体的哪个部分符合范围请求</td>
</tr>
<tr>
<td align="center">Content-Type</td>
<td align="center">说明实体主体内对象的媒体类型</td>
</tr>
<tr>
<td align="center">Expires</td>
<td align="center">将资源失效的日期告知客户端</td>
</tr>
<tr>
<td align="center">Last-Modified</td>
<td align="center">指明资源最终修改的时间</td>
</tr>
</tbody></table></div>
<p> <span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers">https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
<hr>

        <h3 id="编码提升传输速率">
          <a href="#编码提升传输速率" class="heading-link"><i class="fas fa-link"></i></a>编码提升传输速率</h3>
      <blockquote>
<p>HTTP 在传输数据时可以按照数据原貌直接传输，但也可以在传输过程中通过编码提升传输速率。通过在传输时编码，能有效地处理大量的访问请求。但是，编码的操作需要计算机来完成，因此会消耗更多的 CPU 等资源。 </p>
</blockquote>

        <h4 id="报文主体和实体主体的差异">
          <a href="#报文主体和实体主体的差异" class="heading-link"><i class="fas fa-link"></i></a>报文主体和实体主体的差异</h4>
      <ul>
<li><p>报文（<strong>message</strong>）</p>
<p>是 HTTP 通信中的基本单位，由 8 位组字节流（octet sequence，其中 octet 为 8 个比特）组成，通过 HTTP 通信传输。</p>
</li>
<li><p>实体（<strong>entity</strong>） </p>
<p>作为请求或响应的有效载荷数据（补充项）被传输，其内容由实体首部和实体主体组成。</p>
</li>
</ul>
<blockquote>
<p> HTTP 报文的主体用于传输请求或响应的实体主体。通常，报文主体等于实体主体。只有当传输中进行编码操作时，实体主体的内容发生变化，才导致它和报文主体产生差异。 </p>
</blockquote>

        <h4 id="压缩传输的内容编码">
          <a href="#压缩传输的内容编码" class="heading-link"><i class="fas fa-link"></i></a>压缩传输的内容编码</h4>
      <p>内容编码： 内容编码指明应用在实体内容上的编码格式，并保持实体信息原样压·                    缩。内容编码后的实体由客户端接收并负责解码。</p>
<p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/%E5%86%85%E5%AE%B9%E7%BC%96%E7%A0%81.png" alt="image-20200927111937100"></p>
<p>常用的内容编码： </p>
<ul>
<li><strong>gzip</strong>（<strong>GNU zip</strong>）</li>
<li><strong>compress</strong>（<strong>UNIX</strong> 系统的标准压缩） </li>
<li><strong>deflate</strong>（<strong>zlib</strong>） </li>
<li><strong>identity</strong>（不进行编码）</li>
</ul>

        <h4 id="分割发送的分块传输编码">
          <a href="#分割发送的分块传输编码" class="heading-link"><i class="fas fa-link"></i></a>分割发送的分块传输编码</h4>
      <blockquote>
<p>在 HTTP 通信过程中，请求的编码实体资源尚未全部传输完成之前，浏览器无法显示请求页面。在传输大容量数据时，通过把数据分割成多块，能够让浏览器逐步显示页面。这种把实体主体分块的功能称为分块传输编码（Chunked Transfer Coding）。</p>
</blockquote>
<p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/%E5%88%86%E5%9D%97%E4%BC%A0%E8%BE%93%E7%BC%96%E7%A0%81.png" alt="image-20200927113233916"></p>
<blockquote>
<ul>
<li><p>分块传输编码会将实体主体分成多个部分(块)。每一块都会用十六进制来标记块的大小,而实体主体的最后一块会使用“0(CR+LF)”来标记。</p>
</li>
<li><p>使用分块传输编码的实体主体会由接收的客户端负责解码，恢复到编 码前的实体主体。 </p>
</li>
<li><p>HTTP/1.1 中存在一种称为传输编码（Transfer Coding）的机制，它可 以在通信时按某种编码方式传输，但只定义作用于分块传输编码中</p>
</li>
</ul>
</blockquote>
<hr>

        <h3 id="发送多种数据的多部分对象集合">
          <a href="#发送多种数据的多部分对象集合" class="heading-link"><i class="fas fa-link"></i></a>发送多种数据的多部分对象集合</h3>
      <blockquote>
<p>发送邮件时，我们可以在邮件里写入文字并添加多份附件。这是因为采用了 MIME（Multipurpose Internet Mail Extensions，多用途因特网邮件扩展）机制，它允许邮件处理文本、图片、视频等多个不同类型的数据。例如，图片等二进制数据以 ASCII 码字符串编码的方式指明,就是利用 MIME 来描述标记数据类型。而在 MIME 扩展中会使用一 种称为多部分对象集合（Multipart）的方法，来容纳多份不同类型的 数据。 </p>
</blockquote>
<p>HTTP 协议中也采纳多部分对象集合，发送的一份报文主体内可含有多类型实体。</p>
<p>多部分对象集合包含的对象:</p>
<ul>
<li><strong>multipart/form-data</strong> : 在 Web 表单文件上传时使用。</li>
<li><strong>multipart/byteranges</strong> : 状态码 206（Partial Content，部分内容）响应报文包含了多个范 围的内容时使用。 </li>
</ul>
<blockquote>
<ul>
<li>在 HTTP 报文中使用多部分对象集合时，需要在首部字段里加上 Content-type。</li>
<li>使用 boundary 字符串来划分多部分对象集合指明的各类实体。</li>
<li>在 boundary 字符串指定的各个实体的起始行之前插入“–”标记</li>
<li>在多部分对象集合对 应的字符串的最后插入“–”标记</li>
<li>多部分对象集合的每个部分类型中，都可以含有首部字段。</li>
</ul>
</blockquote>
<hr>

        <h3 id="获取部分内容的范围请求">
          <a href="#获取部分内容的范围请求" class="heading-link"><i class="fas fa-link"></i></a>获取部分内容的范围请求</h3>
      <p>可恢复的机制： 解决问题 =》 下载大图或者视频在下载过程中遇到网络中断的情况，那就必须重头开始。 =》 要实现该功能需要指定下载的实体范围。像这样，指定范围发送的请求叫做范围请求（Range Request）。 </p>
<p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/%E8%8C%83%E5%9B%B4%E8%AF%B7%E6%B1%82.png" alt="image-20200927115143303"></p>
<p>图： 范围请求</p>
<p>执行范围请求时，会用到首部字段 Range 来指定资源的 byte 范围。</p>
<p>byte 范围的指定形式如下： </p>
<ul>
<li><p><strong>5001~10 000</strong> 字节 ： Range: bytes=5001-10000 </p>
</li>
<li><p>从 <strong>5001</strong> 字节之后全部的： Range: bytes=5001- </p>
</li>
<li><p>从一开始到 <strong>3000</strong> 字节和 <strong>5000~7000</strong> 字节的多重范围 ： </p>
<p>Range: bytes=-3000, 5000-7000 </p>
</li>
</ul>
<p>范围请求响应会返回状态码为 206 Partial Content 的响应报文，对于多重范围的范围请求，响应会在首部字段 Content-Type 标明 multipart/byteranges 后返回响应报文。如果服务器端无法响应范围请求，则会返回状态码 200 OK 和完整的实体内容。</p>

        <h3 id="内容协商返回最合适的内容">
          <a href="#内容协商返回最合适的内容" class="heading-link"><i class="fas fa-link"></i></a>内容协商返回最合适的内容</h3>
      <p><strong>内容协商（Content Negotiation）</strong></p>
<p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/%E5%86%85%E5%AE%B9%E5%8D%8F%E5%95%86%E4%BD%9C%E7%94%A8.png" alt="image-20200927115515397"></p>
<blockquote>
<p>内容协商机制是指客户端和服务器端就响应的资源内容进行交涉，然后提供给客户端最为适合的资源。内容协商会以响应资源的语言、字符集、编码方式等作为判断的基准。</p>
</blockquote>
<p>包含在请求报文中的某些首部字段（如下）就是判断的基准.</p>
<ul>
<li><strong>Accept</strong> </li>
<li><strong>Accept-Charset</strong></li>
<li><strong>Accept-Encoding</strong> </li>
<li><strong>Accept-Language</strong></li>
<li><strong>Content-Language</strong> </li>
</ul>
<p><strong>内容协商技术有以下 3 种类型</strong>:</p>
<ul>
<li><p>服务器驱动协商（<strong>Server-driven Negotiation</strong>）</p>
<blockquote>
<p>由服务器端进行内容协商。以请求的首部字段为参考，在服务器端自 动处理。但对用户来说，以浏览器发送的信息作为判定的依据，并不一定能筛选出最优内容。 </p>
</blockquote>
</li>
<li><p>客户端驱动协商（<strong>Agent-driven Negotiation</strong>）</p>
<blockquote>
<p>由客户端进行内容协商的方式。用户从浏览器显示的可选项列表中手动选择。还可以利用 JavaScript 脚本在 Web 页面上自动进行上述选择。比如按 OS 的类型或浏览器类型，自行切换成 PC 版页面或手机版页面。 </p>
</blockquote>
</li>
<li><p>透明协商（<strong>Transparent Negotiation</strong>） </p>
<blockquote>
<p>是服务器驱动和客户端驱动的结合体，是由服务器端和客户端各自进行内容协商的一种方法。</p>
</blockquote>
</li>
</ul>

        <h2 id="HTTP-状态码">
          <a href="#HTTP-状态码" class="heading-link"><i class="fas fa-link"></i></a>HTTP 状态码</h2>
      <blockquote>
<p>HTTP 状态码负责表示客户端 HTTP 请求的返回结果、标记服务器端的处理是否正常、通知出现的错误等工作。</p>
</blockquote>
<p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/%E7%8A%B6%E6%80%81%E7%A0%81%E8%A1%A8%E7%A4%BA%E8%BF%94%E5%9B%9E%E7%9A%84%E4%BF%A1%E6%81%AF.png" alt="image-20200928173246411"></p>
<p>状态码以 3 位数字和原因短语组成。数字中的第一位指定了响应类别，后两位无分类。</p>
<p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/%E7%8A%B6%E6%80%81%E7%A0%81%E7%B1%BB%E5%88%AB.png" alt="image-20200928173428480"></p>

        <h3 id="2XX-成功">
          <a href="#2XX-成功" class="heading-link"><i class="fas fa-link"></i></a>2XX 成功</h3>
      <p>2XX 的响应结果表明请求被正常处理了</p>

        <h4 id="200-OK">
          <a href="#200-OK" class="heading-link"><i class="fas fa-link"></i></a>200 OK</h4>
      <p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/200ok.png" alt="200"></p>

        <h4 id="204-No-Content">
          <a href="#204-No-Content" class="heading-link"><i class="fas fa-link"></i></a>204 No Content</h4>
      <p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/204.png" alt="204"></p>
<blockquote>
<p>该状态码代表服务器接收的请求已成功处理，但在返回的响应报文中不含实体的主体部分。另外，也不允许返回任何实体的主体。比如,当从浏览器发出请求处理后，返回 204 响应，那么浏览器显示的页面不发生更新。一般在只需要从客户端往服务器发送信息，而对客户端不需要发送新信息内容的情况下使用。 </p>
</blockquote>

        <h4 id="206-Partial-Content">
          <a href="#206-Partial-Content" class="heading-link"><i class="fas fa-link"></i></a>206 Partial Content</h4>
      <p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/206%E8%8C%83%E5%9B%B4%E8%AF%B7%E6%B1%82.png" alt="206"></p>
<blockquote>
<p>该状态码表示客户端进行了范围请求，而服务器成功执行了这部分的GET 请求。响应报文中包含由 Content-Range 指定范围的实体内容。</p>
</blockquote>

        <h3 id="3XX-重定向">
          <a href="#3XX-重定向" class="heading-link"><i class="fas fa-link"></i></a>3XX 重定向</h3>
      <p>3XX 响应结果表明浏览器需要执行某些特殊的处理以正确处理请求。</p>

        <h4 id="301-Moved-Permanently">
          <a href="#301-Moved-Permanently" class="heading-link"><i class="fas fa-link"></i></a>301 Moved Permanently</h4>
      <p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/301%E6%B0%B8%E4%B9%85%E9%87%8D%E5%AE%9A%E5%90%91.png" alt="image-20200928193611941"></p>
<blockquote>
<p>永久性重定向。该状态码表示请求的资源已被分配了新的 URI，以后应使用资源现在所指的 URI。也就是说，如果已经把资源对应的 URI保存为书签了，这时应该按 Location 首部字段提示的 URI 重新保存。 </p>
</blockquote>

        <h4 id="302-Found">
          <a href="#302-Found" class="heading-link"><i class="fas fa-link"></i></a>302 Found</h4>
      <p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/302.png" alt="image-20200928194816105"></p>
<blockquote>
<p>临时性重定向。该状态码表示请求的资源已被分配了新的 URI，希望用户（本次）能使用新的 URI 访问。只是临时性的，比如，用户把 URI 保存成书签，但不会像 301 状态码出现时那样去更新书签，而是仍旧保留返回 302 状态码的页面对应的 URI。 </p>
</blockquote>

        <h4 id="303-See-Other">
          <a href="#303-See-Other" class="heading-link"><i class="fas fa-link"></i></a>303 See Other</h4>
      <p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/303.png" alt="image-20200928195048859"></p>
<blockquote>
<p>该状态码表示由于请求对应的资源存在着另一个 URI，应使用 <strong>GET</strong>方法定向获取请求的资源。 </p>
</blockquote>

        <h4 id="304-Not-Modified">
          <a href="#304-Not-Modified" class="heading-link"><i class="fas fa-link"></i></a>304 Not Modified</h4>
      <p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/304.png" alt="image-20200929100358018"></p>
<blockquote>
<p>该状态码表示客户端发送附带条件的请求时，服务器端允许请求访问资源，但未满足条件的情况。304 状态码返回时，不包含任何响应的主体部分。304 虽然被划分在 3XX 类别中，但是和重定向没有关系。</p>
</blockquote>
<p>附带条件的请求是指采用 GET方法的请求报文中包含 If-Match，If-Modified-Since，If-None-Match，If-Range，If-Unmodified-Since 中任一首部。</p>
<p><strong>307 Temporary Redirect</strong></p>
<p>临时重定向。</p>

        <h3 id="4XX-客户端错误">
          <a href="#4XX-客户端错误" class="heading-link"><i class="fas fa-link"></i></a>4XX 客户端错误</h3>
      <p>4XX 的响应结果表明客户端是发生错误的原因所在。</p>

        <h4 id="400-Bad-Request">
          <a href="#400-Bad-Request" class="heading-link"><i class="fas fa-link"></i></a>400 Bad Request</h4>
      <p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/400.png" alt="image-20200929101043394"></p>

        <h4 id="401-Unauthorized">
          <a href="#401-Unauthorized" class="heading-link"><i class="fas fa-link"></i></a>401 Unauthorized</h4>
      <p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/401.png" alt="image-20200929101225969"></p>
<blockquote>
<p>该状态码表示发送的请求需要有通过 HTTP 认证（BASIC 认证、DIGEST 认证）的认证信息。另外若之前已进行过 1 次请求，则表示用 户认证失败。返回含有 401 的响应必须包含一个适用于被请求资源的 WWW-Authenticate 首部用以质询（challenge）用户信息。当浏览器初次接收到 401 响应，会弹出认证用的对话窗口。 </p>
</blockquote>

        <h4 id="403-Forbidden">
          <a href="#403-Forbidden" class="heading-link"><i class="fas fa-link"></i></a>403 Forbidden</h4>
      <p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/403.png" alt="image-20200929101653917"></p>
<p>该状态码表明对请求资源的访问被服务器拒绝了。服务器端没有必要给出拒绝的详细理由，但如果想作说明的话，可以在实体的主体部分对原因进行描述，这样就能让用户看到了。未获得文件系统的访问授权，访问权限出现某些问题（从未授权的发送源 IP 地址试图访问）等列举的情况都可能是发生 403 的原因。</p>

        <h4 id="404-Not-Found">
          <a href="#404-Not-Found" class="heading-link"><i class="fas fa-link"></i></a>404 Not Found</h4>
      <p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/404.png" alt="image-20200929101754404"></p>
<p>该状态码表明服务器上无法找到请求的资源。</p>

        <h3 id="5XX-服务器错误">
          <a href="#5XX-服务器错误" class="heading-link"><i class="fas fa-link"></i></a>5XX 服务器错误</h3>
      <p>5XX 的响应结果表明服务器本身发生错误</p>

        <h4 id="500-Internal-Server-Error">
          <a href="#500-Internal-Server-Error" class="heading-link"><i class="fas fa-link"></i></a>500 Internal Server Error</h4>
      <p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/500.png" alt="image-20200929102010801"></p>
<p>服务器端在执行请求时发生了错误 —》 <strong>找服务端解决</strong></p>

        <h4 id="503-Service-Unavailable">
          <a href="#503-Service-Unavailable" class="heading-link"><i class="fas fa-link"></i></a>503 Service Unavailable</h4>
      <p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/503.png" alt="image-20200929102124530"></p>
<p>该状态码表明服务器暂时处于超负载或正在进行停机维护，现在无法处理请求。</p>

        <h2 id="Web-服务器">
          <a href="#Web-服务器" class="heading-link"><i class="fas fa-link"></i></a>Web 服务器</h2>
      <p>一台 Web 服务器可搭建多个独立域名的 Web 网站，也可作为通信路径上的中转服务器提升传输效率。 </p>

        <h3 id="用单台虚拟主机实现多个域名">
          <a href="#用单台虚拟主机实现多个域名" class="heading-link"><i class="fas fa-link"></i></a>用单台虚拟主机实现多个域名</h3>
      <p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/DNS%E8%A7%A3%E6%9E%90%E5%9F%9F%E5%90%8D.png" alt="image-20200929103635653"></p>
<blockquote>
<p>在相同的 IP 地址下，由于虚拟主机可以寄存多个不同主机名和域名的 Web 网站，因此在发送 HTTP 请求时，必须在 Host 首部内完整指定主机名或域名的 URI。 </p>
</blockquote>

        <h3 id="通信数据转发程序">
          <a href="#通信数据转发程序" class="heading-link"><i class="fas fa-link"></i></a>通信数据转发程序</h3>
      <p><strong>代理</strong>是一种有转发功能的应用程序，它扮演了位于服务器和客户端“中间人”的角色，接收由客户端发送的请求并转发给服务器，同时也接收服务器返回的响应并转发给客户端。 </p>
<p><strong>网关</strong>是转发其他服务器通信数据的服务器，接收从客户端发送来的请求时，它就像自己拥有资源的源服务器一样对请求进行处理。</p>
<p><strong>隧道</strong>是在相隔甚远的客户端和服务器两者之间进行中转，并保持双方通信连接的应用程序。</p>

        <h4 id="代理">
          <a href="#代理" class="heading-link"><i class="fas fa-link"></i></a>代理</h4>
      <p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/%E4%BB%A3%E7%90%86%E6%9C%8D%E5%8A%A1%E5%99%A8.png" alt="image-20200929110047532"></p>
<p>​        持有资源实体的服务器被称为源服务器。从源服务器返回的响应经过代理服务器后再传给客户端。 每次通过代理服务器转发请求或响应时，会追加写入 <strong>Via</strong> 首 部信息 。</p>
<blockquote>
<p>使用代理服务器的理由有：利用缓存技术（稍后讲解）减少网络带宽的流量，组织内部针对特定网站的访问控制，以获取访问日志为主要目的，等等。 </p>
</blockquote>
<p><strong>代理使用方法</strong></p>
<ul>
<li>缓存代理：代理转发响应时，缓存代理（Caching Proxy）会预先将资源的副本（缓存）保存在代理服务器上。当代理再次接收到对相同资源的请求时，就可以不从源服务器那里获取资源，而是将之前缓存的资源作为响应返回。</li>
<li>透明代理： 转发请求或响应时，不对报文做任何加工的代理类型被称为透明代理（Transparent Proxy）。反之，对报文内容进行加工的代理被称为非透明代理。 </li>
</ul>

        <h4 id="网关">
          <a href="#网关" class="heading-link"><i class="fas fa-link"></i></a>网关</h4>
      <p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/%E7%BD%91%E5%85%B3.png" alt="image-20200929110529685"></p>
<p>​        利用网关能提高通信的安全性，因为可以在客户端与网关之间的通信线路上加密以确保连接的安全。网关能使通信线路上的服务器提供非 HTTP 协议服务。 </p>

        <h4 id="隧道">
          <a href="#隧道" class="heading-link"><i class="fas fa-link"></i></a>隧道</h4>
      <p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/%E9%9A%A7%E9%81%93.png" alt="image-20200929110724740"></p>
<p>​        隧道可按要求建立起一条与其他服务器的通信线路，届时使用 SSL等加密手段进行通信。隧道的目的是确保客户端能与服务器进行安全的通信。隧道本身不会去解析 HTTP 请求。也就是说，请求保持原样中转给之后的服务器。隧道会在通信双方断开连接时结束。 </p>

        <h3 id="保存资源的缓存">
          <a href="#保存资源的缓存" class="heading-link"><i class="fas fa-link"></i></a>保存资源的缓存</h3>
      <p>​        缓存是指代理服务器或客户端本地磁盘内保存的资源副本。利用缓存可减少对源服务器的访问，因此也就节省了通信流量和通信时间。 缓存服务器是代理服务器的一种，并归类在缓存代理类型中。</p>
<p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/%E7%BC%93%E5%AD%98%E6%9C%8D%E5%8A%A1%E5%99%A8.png" alt="image-20200929111035961"></p>
<blockquote>
<p>优势在于利用缓存可避免多次从源服务器转发资源。</p>
</blockquote>

        <h4 id="缓存的有效期限">
          <a href="#缓存的有效期限" class="heading-link"><i class="fas fa-link"></i></a>缓存的有效期限</h4>
      <p>​        即使存在缓存，也会因为客户端的要求、缓存的有效期等因素，向源服务器确认资源的有效性。若判断缓存失效，缓存服务器将会再次从源服务器上获取“新”资源。</p>
<p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/%E7%BC%93%E5%AD%98%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%9C%89%E6%95%88%E6%9C%9F.png" alt="image-20200929111158039"></p>

        <h4 id="客户端的缓存">
          <a href="#客户端的缓存" class="heading-link"><i class="fas fa-link"></i></a>客户端的缓存</h4>
      <p>浏览器缓存：存在客户端浏览器（本地磁盘），有效则直接使用，过期重新请求</p>
<p><img src="/2020/09/28/%E5%9B%BE%E8%A7%A3%E3%80%8AHTTP%E3%80%8B%E5%AD%A6%E4%B9%A0/%E5%AE%A2%E6%88%B7%E7%AB%AF%E7%BC%93%E5%AD%98.png" alt="image-20200929111342644"></p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2020/08/16/%E5%89%8D%E7%AB%AF%E6%A8%A1%E5%9D%97%E5%8C%96%E5%AD%A6%E4%B9%A0/">前端模块化学习</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2020-08-16</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2020-11-23</span></span><span class="post-meta-item post-meta-item--wordcount"><span class="post-meta-item__icon"><i class="far fa-file-word"></i></span><span class="post-meta-item__info">字数统计</span><span class="post-meta-item__value">1.1k</span></span><span class="post-meta-item post-meta-item--readtime"><span class="post-meta-item__icon"><i class="far fa-clock"></i></span><span class="post-meta-item__info">阅读时长</span><span class="post-meta-item__value">8分</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h2 id="模块">
          <a href="#模块" class="heading-link"><i class="fas fa-link"></i></a>模块</h2>
      <p>早起设计没有相关概念，模块是实现特定功能的文件</p>
<p><strong>好处</strong>：</p>
<ol>
<li>避免变量污染，命名冲突</li>
<li>提高代码复用率</li>
<li>提高可维护性</li>
<li>方便依赖关系管理</li>
</ol>
<p><strong>历程：</strong></p>
<ol>
<li><p>函数封装</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn2</span>(<span class="params"></span>) </span>&#123;&#125;</span><br></pre></td></tr></table></div></figure>

<p>缺点：存在变量冲突问题，也没有依赖关系</p>
</li>
<li><p>对象封装</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> moudle = &#123;</span><br><span class="line">  <span class="keyword">var</span> v1 = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">var</span> v2 = <span class="number">2</span>;</span><br><span class="line">  function1: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">	function2: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>缺点：暴露私有成员，外部可修改</p>
</li>
<li><p>立即执行函数（IIFE）</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> moudle = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">var</span> v1 = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">var</span> v2 = <span class="number">2</span>;</span><br><span class="line">    <span class="comment">// 函数级作用域，所以被保护</span></span><br><span class="line">    function1: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">    function2: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 内部函数引用外部成员 =&gt; 闭包</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      function1: function1,</span><br><span class="line">      function2: function2</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></div></figure>

<p>缺点：闭包是有成本 =》更多内存，功能相对较弱</p>
</li>
<li><p>模块化</p>
</li>
</ol>

        <h2 id="模块化">
          <a href="#模块化" class="heading-link"><i class="fas fa-link"></i></a>模块化</h2>
      <p>常见的模块化规范：CommonJS、AMD、CMD、UMD、原生模块化（ES6）</p>
<p><strong>CommonJS</strong></p>
<p>CommonJS是服务器端模块的规范，Node.js采用该规范</p>
<p>CommonJS规定一个单独文件就是一个模块，加载模块使用 require 方法，这个方法读取一个文件并执行，最后返回文件内部的 exports对象</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// dog.js</span></span><br><span class="line"><span class="keyword">var</span> b1 = <span class="number">123</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Dog</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.eat = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;eat&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">this</span>.walk = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;walk&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> dog = <span class="keyword">new</span> Dog()</span><br><span class="line"><span class="built_in">exports</span>.dog = dog</span><br><span class="line"></span><br><span class="line"><span class="comment">// test.js</span></span><br><span class="line"><span class="keyword">var</span> dog = <span class="built_in">require</span>(<span class="string">&#x27;./foo&#x27;</span>).dog</span><br><span class="line"></span><br><span class="line">dog.eat() <span class="comment">// eat	</span></span><br></pre></td></tr></table></div></figure>

<p>CommonJS 加载模块是同步的，只有加载完才会执行后面的操作。像Node.js主要用于服务器的编程，加载的模块文件一般位于本地硬盘，所以不必考虑异步问题 =》 CommonJS规范。但是浏览器环境从服务端加载就必定是异步模式，不采用 CommonJS规范。</p>
<p><strong>AMD( Asynchromous Moudle Definition )模块</strong></p>
<p>Require.js 实现</p>
<p>AMD 是 RequireJS 在推广过程中对模块定义的规范</p>
<p>AMD 异步加载模块。支持对象，函数，构造器，字符串，JSON等各种类型的模块， 适用 define 方法定义模块</p>
<p><strong>CMD( Common Moudle Definition )模块</strong></p>
<p>Sea.js 实现</p>
<p>AMD 与 CMD 区别：</p>
<ol>
<li>对于依赖的模式 AMD提前执行，CMD延迟执行</li>
<li>CMD依赖就近， AMD 依赖前置</li>
<li>AMD 的 api 一个当多个用，CMD 模块功能单一</li>
</ol>
<p><strong>UMD(universal Moudle Definition)</strong></p>
<p>服务器端加客户端通用</p>
<p><strong>原生js模块化</strong></p>

        <h2 id="对模块的实现">
          <a href="#对模块的实现" class="heading-link"><i class="fas fa-link"></i></a>对模块的实现</h2>
      
        <h3 id="Common-js">
          <a href="#Common-js" class="heading-link"><i class="fas fa-link"></i></a>Common.js</h3>
      <p>Common.js 核心思想就是通过 require 同步加载所要依赖的其他模块(文件)，然后通过 exports 或者 module.exports 导出需要暴露的接口。</p>
<ul>
<li>require 引入外部模块</li>
<li>exports 导出当前模块的方法或者变量，唯一的导出口</li>
<li>module.exports 模块本身</li>
</ul>
<p>特点：</p>
<blockquote>
<ul>
<li>所有代码都运行在模块作用域，不会污染全局作用域</li>
<li>模块可以多次加载，但是只会在第一次加载时运行一次，运行结果被缓存，只会加载直接读取缓存结果。</li>
<li>模块加载的顺序按照在代码出现的顺序（同步加载）</li>
</ul>
</blockquote>

        <h4 id="commonJS-在-Node-环境的实现">
          <a href="#commonJS-在-Node-环境的实现" class="heading-link"><i class="fas fa-link"></i></a>commonJS  在 Node 环境的实现</h4>
      <p>根据定义，一个文件是一个单独的模块，拥有独立的作用域，模块的出口: module.exports    </p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// math.js</span></span><br><span class="line"><span class="keyword">var</span> PI = <span class="number">3.14</span>;</span><br><span class="line"><span class="built_in">module</span>.exports.PI = PI;</span><br><span class="line"><span class="built_in">module</span>.exports.add = <span class="function">(<span class="params">m, n</span>) =&gt;</span> m + n</span><br><span class="line"></span><br><span class="line"><span class="comment">// test.js</span></span><br><span class="line"><span class="keyword">var</span> math = <span class="built_in">require</span>(<span class="string">&#x27;./math&#x27;</span>)</span><br><span class="line"><span class="built_in">console</span>.log(math.PI); <span class="comment">// 3.14</span></span><br><span class="line"><span class="built_in">console</span>.log(math.add(<span class="number">1</span>, <span class="number">4</span>));  <span class="comment">// 5</span></span><br></pre></td></tr></table></div></figure>


        <h4 id="commonJS-在-浏览器-环境的实现">
          <a href="#commonJS-在-浏览器-环境的实现" class="heading-link"><i class="fas fa-link"></i></a>commonJS  在 浏览器 环境的实现</h4>
      <p>直接运行报错</p>
<p>![image-20201016152516526](require报错 commonjs.png)</p>
<blockquote>
<ul>
<li><p>全局安装browserify</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install browserify -g</span><br></pre></td></tr></table></div></figure>

<p>通过运行命令执行</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">browserify myApp.js</span><br><span class="line"></span><br><span class="line">browserify myApp.js -&gt; myApp_01.js  <span class="comment">// 转到合适的文件</span></span><br></pre></td></tr></table></div></figure>
</li>
</ul>
</blockquote>

        <h3 id="ES6-模块化">
          <a href="#ES6-模块化" class="heading-link"><i class="fas fa-link"></i></a>ES6 模块化</h3>
      <p>特点</p>
<blockquote>
<ul>
<li>每个模块只加载一次，每个 js只执行一次，如果下次加载相同的就从内存中加载，一个模块就是一个单例或者对象</li>
<li>每个模块内声明的变量都是局部变量</li>
<li>模块内部的变量或者函数可以通过 export导出</li>
<li>一个模块可以导入别的模块</li>
</ul>
</blockquote>
<p>后端使用</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义</span></span><br><span class="line"><span class="built_in">module</span>.exports.Circle = <span class="keyword">new</span> Circle &#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">radius</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.radius = redius</span><br><span class="line">    <span class="built_in">this</span>.PI = <span class="number">3.14</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">area</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.radius * <span class="built_in">this</span>.radius * <span class="built_in">this</span>.PI</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 默认 定义</span></span><br><span class="line"><span class="built_in">module</span>.exports = <span class="keyword">new</span> Circle &#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">radius</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.radius = redius</span><br><span class="line">    <span class="built_in">this</span>.PI = <span class="number">3.14</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">area</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.radius * <span class="built_in">this</span>.radius * <span class="built_in">this</span>.PI</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 导入使用模块</span></span><br><span class="line"><span class="keyword">var</span> Circle = <span class="built_in">require</span>(<span class="string">&#x27;./lib.js&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> c10 = <span class="keyword">new</span> Circle.Circle(<span class="number">10</span>);</span><br><span class="line">c10.area()</span><br><span class="line"><span class="comment">// 导入默认模块</span></span><br><span class="line"><span class="keyword">var</span> Circle = <span class="built_in">require</span>(<span class="string">&#x27;./lib.js&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> c10 = <span class="keyword">new</span> Circle(<span class="number">10</span>);</span><br><span class="line">c10.area()</span><br></pre></td></tr></table></div></figure>



<p>前端使用</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// test</span></span><br><span class="line"><span class="keyword">import</span> &#123; messgae, add &#125; <span class="keyword">from</span> <span class="string">&#x27;./js/lib.js&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(messgae)</span><br><span class="line"><span class="built_in">console</span>.log(add(<span class="number">2</span>,<span class="number">3</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">// dog</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> message = <span class="string">&#x27;Hello&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> add = <span class="function">(<span class="params">m, n</span>) =&gt;</span> m + n </span><br></pre></td></tr></table></div></figure>

</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2020/08/12/%E4%BB%8E%E5%A4%B4%E5%AD%A6%E4%B9%A0-javascript/">从头学习 javascript</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2020-08-12</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2020-11-23</span></span><span class="post-meta-item post-meta-item--wordcount"><span class="post-meta-item__icon"><i class="far fa-file-word"></i></span><span class="post-meta-item__info">字数统计</span><span class="post-meta-item__value">8.4k</span></span><span class="post-meta-item post-meta-item--readtime"><span class="post-meta-item__icon"><i class="far fa-clock"></i></span><span class="post-meta-item__info">阅读时长</span><span class="post-meta-item__value">60分</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h2 id="Javascript-介绍">
          <a href="#Javascript-介绍" class="heading-link"><i class="fas fa-link"></i></a>Javascript 介绍</h2>
      <blockquote>
<p><strong>JavaScript</strong> 又叫 <strong>JS</strong>， 是一种具有<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Glossary/First-class_Function">函数优先</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>的轻量级，解释型或即时编译型的编程语言。</p>
<p>JavaScript 是一种<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Glossary/Prototype-based_programming">基于原型编程</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>、多范式的动态脚本语言，并且支持面向对象、命令式和声明式（如函数式编程）风格。</p>
<p>JavaScript 的标准是 <span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Language_Resources">ECMAScript</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> .</p>
<p>JavaScript 内置了一些对象的标准库，比如数组（<code>Array</code>），日期（<code>Date</code>），数学（<code>Math</code>）和一套核心语句，包括运算符、流程控制符以及声明方式等。</p>
</blockquote>

        <h2 id="基本语法">
          <a href="#基本语法" class="heading-link"><i class="fas fa-link"></i></a>基本语法</h2>
      
        <h3 id="hello">
          <a href="#hello" class="heading-link"><i class="fas fa-link"></i></a>hello</h3>
      <figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span> (<span class="params">userName</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`hi, <span class="subst">$&#123;userName&#125;</span>`</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">sayHi(<span class="string">&#x27;sera&#x27;</span>) <span class="comment">//hi, sera</span></span><br></pre></td></tr></table></div></figure>

<hr>

        <h3 id="语法和数据类型">
          <a href="#语法和数据类型" class="heading-link"><i class="fas fa-link"></i></a>语法和数据类型</h3>
      
        <h4 id="基本知识">
          <a href="#基本知识" class="heading-link"><i class="fas fa-link"></i></a>基本知识</h4>
      <blockquote>
<ul>
<li>JavaScript 是<strong>区分大小写</strong>的，并使用 <strong>Unicode</strong> 字符集。</li>
<li>在 JavaScript 中，指令被称为语句 （<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Glossary/Statement">Statement</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>），并用分号（;）进行分隔。如果一条语句独占一行的话，那么分号是可以省略的。（不建议）</li>
<li>空白字符指的是空格、制表符和换行符等。</li>
</ul>
</blockquote>

        <h4 id="注释">
          <a href="#注释" class="heading-link"><i class="fas fa-link"></i></a>注释</h4>
      <figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 单行注释</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 这是一个更长的,</span></span><br><span class="line"><span class="comment">   多行注释</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 然而, 你不能, /* 嵌套注释 */</span> 语法错误 */</span><br></pre></td></tr></table></div></figure>


        <h4 id="声明">
          <a href="#声明" class="heading-link"><i class="fas fa-link"></i></a>声明</h4>
      <p><code>var</code>: 声明一个变量，可选初始化一个值。</p>
<p><code>let</code>: 声明一个块作用域的局部变量，可选初始化一个值。</p>
<p><code>const</code>: 声明一个块作用域的只读常量。</p>
<p><strong>变量（标识符）</strong>： 使用变量来作为值的符号名， 一个 JavaScript 标识符<strong>必须</strong>以字母、下划线（_）或者美元符号（$）开头；后续的字符也可以是数字（0-9）。</p>
<p><strong>声明变量</strong>:</p>
<blockquote>
<ol>
<li><code>var</code>: var x = 42, 用来声明局部变量和全局变量</li>
<li>直接赋值： x = 42， 产生一个全局变量，严格模式报错</li>
<li><code>let</code>: let y = 13， 声明块作用域的局部变量</li>
</ol>
</blockquote>
<p><strong>变量求值</strong>:</p>
<blockquote>
<ol>
<li><p>用 <code>var</code> 或 <code>let</code> 语句声明的变量，如果没有赋初始值，则其值为 <code>undefined</code> </p>
</li>
<li><p>如果访问一个未声明的变量会导致抛出一个引用错误（<code>ReferenceError</code>）异常</p>
</li>
<li><p>可以使用 <code>undefined</code> 来判断一个变量是否已赋值</p>
</li>
<li><p>数值类型环境中 <code>undefined</code> 值会被转换为 <code>NaN</code></p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a;</span><br><span class="line">a + <span class="number">2</span>;    <span class="comment">// NaN</span></span><br></pre></td></tr></table></div></figure>
</li>
<li><p>对一个 <code>null</code> 变量求值时，空值 <code>null</code> 在数值类型环境中会被当作0来对待，而布尔类型环境中会被当作 <code>false</code>。</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> n = <span class="literal">null</span>;</span><br><span class="line"><span class="built_in">console</span>.log(n * <span class="number">32</span>); <span class="comment">// 0</span></span><br></pre></td></tr></table></div></figure>
</li>
</ol>
</blockquote>
<p><strong>变量的作用域</strong></p>
<blockquote>
<p>在函数之外声明的变量，叫做<em>全局</em>变量，因为它可被当前文档中的任何其他代码所访问。在函数内部声明的变量，叫做<em>局部</em>变量，因为它只能在当前函数的内部访问。</p>
<ul>
<li>ECMAScript 6 之前的 JavaScript 没有 <span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/JavaScript/Guide/Statements#Block_Statement">语句块</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> 作用域；相反，语句块中声明的变量将成为语句块所在函数（或全局作用域）的局部变量。</li>
</ul>
</blockquote>
<p><strong>变量提升</strong></p>
<blockquote>
<p>JavaScript 变量是被“提升”或移到了函数或语句的最前面。但是，提升后的变量将返回 undefined 值。因此在使用或引用某个变量之后进行声明和初始化操作，这个被提升的变量仍将返回 undefined 值。</p>
</blockquote>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 例子1</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">console</span>.log(x === <span class="literal">undefined</span>); <span class="comment">// true</span></span><br><span class="line"><span class="keyword">var</span> x = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 例子2</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">// will return a value of undefined</span></span><br><span class="line"><span class="keyword">var</span> myvar = <span class="string">&quot;my value&quot;</span>;</span><br><span class="line"></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(myvar); <span class="comment">// undefined</span></span><br><span class="line">  <span class="keyword">var</span> myvar = <span class="string">&quot;local value&quot;</span>;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></div></figure>

<p>由于存在变量提升，一个函数中所有的<code>var</code>语句应尽可能地放在接近函数顶部的地方。这个习惯将大大提升代码的清晰度。</p>
<blockquote>
<p> 在ES6+中，在变量声明之前引用这个变量，将抛出引用错误（ReferenceError）。这个变量将从代码块一开始的时候就处在一个“暂时性死区”，直到这个变量被声明为止。</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(x); <span class="comment">// ReferenceError</span></span><br><span class="line"><span class="keyword">let</span> x = <span class="number">3</span>;</span><br></pre></td></tr></table></div></figure>
</blockquote>
<p>对于函数来说，只有函数声明会被提升到顶部，而函数表达式不会被提升。</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 函数声明 */</span></span><br><span class="line"></span><br><span class="line">foo(); <span class="comment">// &quot;bar&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;bar&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 函数表达式 */</span></span><br><span class="line"></span><br><span class="line">baz(); <span class="comment">// 类型错误：baz 不是一个函数</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> baz = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;bar2&quot;</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></div></figure>

<p><strong>全局变量</strong></p>
<blockquote>
<p>全局变量是<em>全局对象</em>的属性。在网页中，（缺省的）全局对象是 <code>window</code>。可以用形如 <code>window.</code><em><code>variable</code></em> 的语法来设置和访问全局变量</p>
</blockquote>
<p><strong>常量(Constants)</strong></p>
<blockquote>
<p>用关键字 <code>const</code> 创建一个只读的常量 。<code>const PI = 3.14;</code></p>
<p>常量不可以通过重新赋值改变其值，也不可以在代码运行时重新声明。它必须被初始化为某个值。</p>
<p>在同一作用域中，不能使用与变量名或函数名相同的名字来命名常量。</p>
</blockquote>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 这会造成错误</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line"><span class="keyword">const</span> f = <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 这也会造成错误</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> g = <span class="number">5</span>;</span><br><span class="line">  <span class="keyword">var</span> g;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//语句</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<ul>
<li>对象属性被赋值为常量是不受保护的,数组的被定义为常量也是不受保护的</li>
</ul>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> MY_OBJECT = &#123;<span class="string">&quot;key&quot;</span>: <span class="string">&quot;value&quot;</span>&#125;;</span><br><span class="line">MY_OBJECT.key = <span class="string">&quot;otherValue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> MY_ARRAY = [<span class="string">&#x27;HTML&#x27;</span>,<span class="string">&#x27;CSS&#x27;</span>];</span><br><span class="line">MY_ARRAY.push(<span class="string">&#x27;JAVASCRIPT&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(MY_ARRAY); <span class="comment">//logs [&#x27;HTML&#x27;,&#x27;CSS&#x27;,&#x27;JAVASCRIPT&#x27;];</span></span><br></pre></td></tr></table></div></figure>

<hr>

        <h3 id="数据结构和类型">
          <a href="#数据结构和类型" class="heading-link"><i class="fas fa-link"></i></a>数据结构和类型</h3>
      <p>最新的 ECMAScript 标准定义了8种数据类型</p>
<ul>
<li>七种基本数据类型:<ul>
<li>布尔值（Boolean），有2个值分别是：<code>true</code> 和 <code>false</code>.</li>
<li>null ， 一个表明 null 值的特殊关键字。 JavaScript 是大小写敏感的，因此 <code>null</code> 与 <code>Null</code>、<code>NULL</code>或变体完全不同。</li>
<li>undefined ，和 null 一样是一个特殊的关键字，undefined 表示变量未赋值时的属性。</li>
<li>数字（Number），整数或浮点数，例如： <code>42</code> 或者 <code>3.14159</code>。</li>
<li>任意精度的整数 (BigInt) ，可以安全地存储和操作大整数，甚至可以超过数字的安全整数限制。</li>
<li>字符串（String），字符串是一串表示文本值的字符序列，例如：”Howdy” 。</li>
<li>代表（Symbol） ( 在 ECMAScript 6 中新添加的类型).。一种实例是唯一且不可改变的数据类型。</li>
</ul>
</li>
<li>以及对象（Object）。</li>
</ul>
<p><strong>数据类型的转换</strong></p>
<blockquote>
<p>JavaScript是一种动态类型语言(dynamically typed language)。这意味着你在声明变量时可以不必指定数据类型，而数据类型会在代码执行时会根据需要自动转换。</p>
</blockquote>
<ul>
<li>在包含的数字和字符串的表达式中使用加法运算符（+），JavaScript 会把数字转换成字符串。</li>
<li>在涉及其它运算符（如下面的减号’-‘）时，JavaScript语言不会把数字变为字符串。</li>
</ul>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;37&quot;</span> - <span class="number">7</span> <span class="comment">// 30</span></span><br><span class="line"><span class="string">&quot;37&quot;</span> + <span class="number">7</span> <span class="comment">// &quot;377&quot;</span></span><br></pre></td></tr></table></div></figure>

<p><strong>字符串转换为数字</strong></p>
<ol>
<li>**<code>parseInt()</code>**只能返回整数，会丢失小数部分。调用 parseInt 时最好总是带上进制(radix) 参数，这个参数用于指定使用哪一种进制。</li>
<li><strong><code>parseFloat</code></strong></li>
<li>一元<strong>加法运算符</strong></li>
</ol>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;1.1&quot;</span> + <span class="string">&quot;1.1&quot;</span> = <span class="string">&quot;1.11.1&quot;</span></span><br><span class="line">(+<span class="string">&quot;1.1&quot;</span>) + (+<span class="string">&quot;1.1&quot;</span>) = <span class="number">2.2</span>   </span><br></pre></td></tr></table></div></figure>

<hr>

        <h3 id="字面量">
          <a href="#字面量" class="heading-link"><i class="fas fa-link"></i></a>字面量</h3>
      <p>字面量是由语法表达式定义的常量</p>
<p><strong>数组字面量 (Array literals)</strong></p>
<p>数组字面值是一个封闭在方括号对([])中的包含有零个或多个表达式的列表，其中每个表达式代表数组的一个元素。当你使用数组字面值创建一个数组时，该数组将会以指定的值作为其元素进行初始化，而其长度被设定为元素的个数。</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> coffees = [<span class="string">&quot;French Roast&quot;</span>, <span class="string">&quot;Colombian&quot;</span>, <span class="string">&quot;Kona&quot;</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a=[<span class="number">3</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> fish = [<span class="string">&quot;Lion&quot;</span>, , <span class="string">&quot;Angel&quot;</span>]; <span class="comment">// Loin, undefined, Angel</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(a.length); <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(a[<span class="number">0</span>]); <span class="comment">// 3</span></span><br></pre></td></tr></table></div></figure>

<p>数组字面值同时也是数组对象, 你在同一行中连写两个逗号（,），数组中就会产生一个没有被指定的元素，其初始值是<code>undefined</code>。</p>
<p><strong>显式地将缺失的元素声明为<code>undefined</code>，将大大提高你的代码的清晰度和可维护性</strong>。</p>
<p><strong>布尔字面量 (Boolean literals)</strong></p>
<ul>
<li>true</li>
<li>false</li>
</ul>
<p><strong>整数 (Integers)</strong></p>
<ul>
<li>十进制整数字面量由一串数字序列组成，且没有前缀0。</li>
<li>八进制的整数以 0（或0O、0o）开头，只能包括数字0-7。严格模式下，八进制整数字面量必须以0o或0O开头，而不能以0开头。</li>
<li>十六进制整数以0x（或0X）开头，可以包含数字（0-9）和字母 a<del>f 或 A</del>F。</li>
<li>二进制整数以0b（或0B）开头，只能包含数字0和1。</li>
</ul>
<p><strong>浮点数字面量 (Floating-point literals)</strong></p>
<ul>
<li>一个十进制整数，可以带正负号（即前缀“+”或“ - ”），</li>
<li>小数点（“.”），</li>
<li>小数部分（由一串十进制数表示），</li>
<li>指数部分。</li>
</ul>
<blockquote>
<p>指数部分以“e”或“E”开头，后面跟着一个整数，可以有正负号（即前缀“+”或“-”）。浮点数字面量至少有一位数字，而且必须带小数点或者“e”（大写“E”也可）。</p>
</blockquote>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3.14</span>      </span><br><span class="line">-<span class="number">.2345789</span> <span class="comment">// -0.23456789</span></span><br><span class="line">-<span class="number">3.12e+12</span>  <span class="comment">// -3.12*1012</span></span><br><span class="line"><span class="number">.1e-23</span>    <span class="comment">// 0.1*10-23=10-24=1e-24</span></span><br></pre></td></tr></table></div></figure>

<p><strong>对象字面量 (Object literals)</strong></p>
<p>对象字面值是封闭在花括号对({})中的一个对象的零个或多个”属性名-值”对的（元素）列表。你不能在一条语句的开头就使用对象字面值，这将导致错误或产生超出预料的行为， 因为此时左花括号（{）会被认为是一个语句块的起始符号。</p>
<blockquote>
<p>对象属性名字可以是任意字符串，包括空串。如果对象属性名字不是合法的javascript标识符，它必须用””包裹。属性的名字不合法，那么便不能用.访问属性值，而是通过类数组标记(“[]”)访问和赋值。</p>
</blockquote>
<p><strong>增强的对象字面量 (Enhanced Object literals)</strong></p>
<p>对象字面值扩展支持在创建时设置原型，简写了 foo: foo 形式的属性赋值，方法定义，支持父方法调用，以及使用表达式动态计算属性名。</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = &#123;<span class="attr">a</span>: <span class="string">&quot;alpha&quot;</span>, <span class="number">2</span>: <span class="string">&quot;two&quot;</span>&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(foo.a);    <span class="comment">// alpha</span></span><br><span class="line"><span class="built_in">console</span>.log(foo[<span class="number">2</span>]);   <span class="comment">// two</span></span><br><span class="line"><span class="built_in">console</span>.log(foo<span class="number">.2</span>);  <span class="comment">// SyntaxError: missing ) after argument list</span></span><br><span class="line"><span class="built_in">console</span>.log(foo[a]); <span class="comment">// ReferenceError: a is not defined</span></span><br><span class="line"><span class="built_in">console</span>.log(foo[<span class="string">&quot;a&quot;</span>]); <span class="comment">// alpha</span></span><br><span class="line"><span class="built_in">console</span>.log(foo[<span class="string">&quot;2&quot;</span>]); <span class="comment">// two</span></span><br></pre></td></tr></table></div></figure>

<p><strong>RegExp 字面值</strong></p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> re = <span class="regexp">/ab+c/</span></span><br></pre></td></tr></table></div></figure>

<p><strong>字符串字面量 (String literals)</strong></p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;foo&quot;</span></span><br><span class="line"><span class="string">&#x27;bar&#x27;</span></span><br><span class="line"><span class="string">&quot;1234&quot;</span></span><br><span class="line"><span class="string">&quot;one line \n another line&quot;</span></span><br><span class="line"><span class="string">&quot;John&#x27;s cat&quot;</span></span><br><span class="line"><span class="string">`Hello <span class="subst">$&#123;name&#125;</span>, how are you <span class="subst">$&#123;time&#125;</span>?`</span>   <span class="comment">// ES6</span></span><br></pre></td></tr></table></div></figure>

<blockquote>
<p>可以在字符串字面值上使用字符串对象的所有方法——JavaScript会自动将字符串字面值转换为一个临时字符串对象，调用该方法，然后废弃掉那个临时的字符串对象。</p>
</blockquote>
<p><strong>在字符串中使用的特殊字符</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;one line \n another line&quot;</span></span><br></pre></td></tr></table></div></figure>

<div class="table-container"><table>
<thead>
<tr>
<th align="left">字符</th>
<th align="left">意思</th>
</tr>
</thead>
<tbody><tr>
<td align="left">\0</td>
<td align="left">Null字节</td>
</tr>
<tr>
<td align="left">\b</td>
<td align="left">退格符</td>
</tr>
<tr>
<td align="left">\f</td>
<td align="left">换页符</td>
</tr>
<tr>
<td align="left">\n</td>
<td align="left">换行符</td>
</tr>
<tr>
<td align="left">\r</td>
<td align="left">回车符</td>
</tr>
<tr>
<td align="left">\t</td>
<td align="left">Tab (制表符)</td>
</tr>
<tr>
<td align="left">\v</td>
<td align="left">垂直制表符</td>
</tr>
<tr>
<td align="left">&#39;</td>
<td align="left">单引号</td>
</tr>
<tr>
<td align="left">&quot;</td>
<td align="left">双引号</td>
</tr>
<tr>
<td align="left">\</td>
<td align="left">反斜杠字符（\）</td>
</tr>
<tr>
<td align="left">*XXX*</td>
<td align="left">由从0到377最多三位八进制数<em>XXX</em>表示的 Latin-1 字符。例如，\251是版权符号的八进制序列。</td>
</tr>
<tr>
<td align="left">\x<em>XX</em></td>
<td align="left">由从00和FF的两位十六进制数字XX表示的Latin-1字符。例如，\ xA9是版权符号的十六进制序列。</td>
</tr>
<tr>
<td align="left"><em>\uXXXX</em></td>
<td align="left">由四位十六进制数字XXXX表示的Unicode字符。例如，\ u00A9是版权符号的Unicode序列。见<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Lexical_grammar#String_literals">Unicode escape sequences</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> (Unicode 转义字符).</td>
</tr>
<tr>
<td align="left">\u*{XXXXX}*</td>
<td align="left">Unicode代码点 (code point) 转义字符。例如，\u{2F804} 相当于Unicode转义字符 \uD87E\uDC04的简写。</td>
</tr>
</tbody></table></div>
<p>严格模式下，不能使用八进制转义字符。</p>
<hr>

        <h2 id="流程控制与错误处理">
          <a href="#流程控制与错误处理" class="heading-link"><i class="fas fa-link"></i></a>流程控制与错误处理</h2>
      <ul>
<li>在JavaScript中，任何表达式(expression)都可以看作一条语句(statement)</li>
</ul>

        <h3 id="语句块">
          <a href="#语句块" class="heading-link"><i class="fas fa-link"></i></a>语句块</h3>
      <figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">   statement_1;   </span><br><span class="line">   statement_2;</span><br><span class="line">   .</span><br><span class="line">   .</span><br><span class="line">   .</span><br><span class="line">   statement_n;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>语句块通常用于流程控制，如<code>if</code>，<code>for</code>，<code>while</code>等等。</p>
<blockquote>
<p>在ECMAScript 6标准之前，Javascript没有块作用域。在一个块中引入的变量的作用域是<code>包含函数或脚本</code>，并且设置它们的效果会延续到块之外。</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">1</span>;</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">var</span> x = <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line">alert(x); <span class="comment">// 输出的结果为 2</span></span><br></pre></td></tr></table></div></figure>
</blockquote>

        <h3 id="条件判断语句">
          <a href="#条件判断语句" class="heading-link"><i class="fas fa-link"></i></a>条件判断语句</h3>
      <ul>
<li><code>if…else…</code></li>
<li><code>if…else if… else…</code></li>
<li><code>switch</code></li>
</ul>
<p><strong>if…else…</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (condition) &#123;</span><br><span class="line">  statement_1;</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">  statement_2;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (condition_1) &#123;</span><br><span class="line">  statement_1;</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span> (condition_2) &#123;</span><br><span class="line">  statement_2;</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span> (condition_n_1) &#123;</span><br><span class="line">  statement_n;</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">  statement_last;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>判断是错误（false）的值</p>
<ul>
<li>false</li>
<li>undefined</li>
<li>null</li>
<li>0</li>
<li>NaN</li>
<li>0</li>
</ul>
<blockquote>
<p>当传递给条件语句所有其他的值，包括所有对象会被计算为真</p>
</blockquote>
<p>**重点注意，Boolean对象，Boolean对象的假在判断语句中也是真 **</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> b = <span class="keyword">new</span> <span class="built_in">Boolean</span>(<span class="literal">false</span>);</span><br><span class="line"><span class="keyword">if</span> (b) <span class="comment">//结果视为真</span></span><br><span class="line"><span class="keyword">if</span> (b == <span class="literal">true</span>) <span class="comment">// 结果视为假</span></span><br></pre></td></tr></table></div></figure>

<p><strong>switch</strong></p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> (expression) &#123;</span><br><span class="line">   <span class="keyword">case</span> label_1:</span><br><span class="line">      statements_1</span><br><span class="line">      [<span class="keyword">break</span>;]</span><br><span class="line">   <span class="keyword">case</span> label_2:</span><br><span class="line">      statements_2</span><br><span class="line">      [<span class="keyword">break</span>;]</span><br><span class="line">   ...</span><br><span class="line">   <span class="keyword">default</span>:</span><br><span class="line">      statements_def</span><br><span class="line">      [<span class="keyword">break</span>;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<ul>
<li>计算<code>expression</code>的 值，等于 case跟的值，执行该case下的语句，该case存在<code>break;</code>则执行完之后结束该程序。</li>
<li>如果，没有匹配到case，执行<code>default</code>后面的语句</li>
</ul>
<hr>

        <h3 id="异常处理语句">
          <a href="#异常处理语句" class="heading-link"><i class="fas fa-link"></i></a>异常处理语句</h3>
      <p>用 <code>throw</code> 语句抛出一个异常并且用 <code>try...catch</code> 语句捕获处理它</p>
<p>**<code>throw</code>**可以抛出任意表达式而不是特定一种类型的表达式</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">throw</span> <span class="string">&quot;Error2&quot;</span>;   <span class="comment">// String type</span></span><br><span class="line"><span class="keyword">throw</span> <span class="number">42</span>;         <span class="comment">// Number type</span></span><br><span class="line"><span class="keyword">throw</span> <span class="literal">true</span>;       <span class="comment">// Boolean type</span></span><br><span class="line"><span class="keyword">throw</span> &#123;<span class="attr">toString</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="keyword">return</span> <span class="string">&quot;I&#x27;m an object!&quot;</span>; &#125; &#125;;</span><br></pre></td></tr></table></div></figure>

<p>例子</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">/ Create an object type UserException</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">UserException</span> (<span class="params">message</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.message=message;</span><br><span class="line">  <span class="built_in">this</span>.name=<span class="string">&quot;UserException&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Make the exception convert to a pretty string when used as</span></span><br><span class="line"><span class="comment">// a string (e.g. by the error console)</span></span><br><span class="line">UserException.prototype.toString = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">this</span>.name + <span class="string">&#x27;: &quot;&#x27;</span> + <span class="built_in">this</span>.message + <span class="string">&#x27;&quot;&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Create an instance of the object type and throw it</span></span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> UserException(<span class="string">&quot;Value too high&quot;</span>);</span><br></pre></td></tr></table></div></figure>

<p><strong><code>try...catch</code></strong></p>
<blockquote>
<p><code>try...catch</code> 语句标记一块待尝试的语句，并规定一个以上的响应应该有一个异常被抛出。如果我们抛出一个异常，<code>try...catch</code>语句就捕获它。</p>
</blockquote>
<p>先执行 try中的语句，如果try中语句抛出异常，则转到catch，否则执行 catch。<code>finally</code>，跟在 <code>try...catch</code> 之后，无论是否抛出异常，都会执行 <code>finally</code>语句.</p>
<p>catch指定了一个标识符，来存放抛出语句指定的值</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;&#125;</span><br><span class="line"><span class="keyword">catch</span> (e) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(e)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>


        <h3 id="使用Error对象">
          <a href="#使用Error对象" class="heading-link"><i class="fas fa-link"></i></a>使用Error对象</h3>
      <figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doSomethingErrorProne</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (ourCodeMakesAMistake()) &#123;</span><br><span class="line">    <span class="keyword">throw</span> (<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;The message&#x27;</span>));</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    doSomethingToGetAJavascriptError();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  doSomethingErrorProne();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span> (e) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(e.name); <span class="comment">// logs &#x27;Error&#x27;</span></span><br><span class="line">  <span class="built_in">console</span>.log(e.message); <span class="comment">// logs &#x27;The message&#x27; or a JavaScript error message)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>


        <h3 id="Promises">
          <a href="#Promises" class="heading-link"><i class="fas fa-link"></i></a>Promises</h3>
      <p>允许你对延时和异步操作流进行控制。</p>
<p><code>Promise</code> 对象有以下几种状态：</p>
<ul>
<li><em>pending：</em>初始的状态，即正在执行，不处于 fulfilled 或 rejected 状态。</li>
<li><em>fulfilled：</em>成功的完成了操作。</li>
<li><em>rejected：</em>失败，没有完成操作。</li>
<li><em>settled：</em>Promise 处于 fulfilled 或 rejected 二者中的任意一个状态, 不会是 pending。</li>
</ul>

        <h1 id="循环与迭代">
          <a href="#循环与迭代" class="heading-link"><i class="fas fa-link"></i></a>循环与迭代</h1>
      
        <h3 id="for">
          <a href="#for" class="heading-link"><i class="fas fa-link"></i></a>for</h3>
      <p>一个 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/statements/for"><code>for</code></a> 循环会一直重复执行，直到指定的循环条件为 false。</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> ([initialExpression]; [condition]; [incrementExpression])</span><br><span class="line">  statement</span><br></pre></td></tr></table></div></figure>

<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(i) <span class="comment">// 0 1 2 3 4 5 6 7 8 9</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>


        <h3 id="do…while">
          <a href="#do…while" class="heading-link"><i class="fas fa-link"></i></a>do…while</h3>
      <p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/statements/do...while"><code>do...while</code></a> 语句一直重复直到指定的条件求值得到假值（false）,至少执行一次  statement</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span></span><br><span class="line">  statement</span><br><span class="line"><span class="keyword">while</span> (condition);</span><br></pre></td></tr></table></div></figure>

<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">  i += <span class="number">1</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(i); <span class="comment">// 1 2 3 4 5 </span></span><br><span class="line">&#125; <span class="keyword">while</span> (i &lt; <span class="number">5</span>);</span><br></pre></td></tr></table></div></figure>


        <h3 id="while">
          <a href="#while" class="heading-link"><i class="fas fa-link"></i></a>while</h3>
      <p>一个 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/statements/while"><code>while</code></a> 语句只要指定的条件求值为真（true）就会一直执行它的语句块，可能一次也不执行</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (condition)</span><br><span class="line">  statement</span><br></pre></td></tr></table></div></figure>

<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> n = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">var</span> x = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (n &lt; <span class="number">3</span>) &#123;</span><br><span class="line">  n++;</span><br><span class="line">  x += n;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(x) <span class="comment">// 6</span></span><br></pre></td></tr></table></div></figure>

<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 无限循环</span></span><br><span class="line"><span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;Hello, world&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>


        <h3 id="label">
          <a href="#label" class="heading-link"><i class="fas fa-link"></i></a>label</h3>
      <p>一个 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/statements/label"><code>label</code></a> 提供了一个让你在程序中其他位置引用它的标识符。</p>
<blockquote>
<p><code>label</code> 的值可以是任何的非保留字的 JavaScript 标识符， <code>statement</code> 可以是任意你想要标识的语句（块）。</p>
</blockquote>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span> ; i &lt; <span class="number">10</span> ; i++) &#123;   <span class="comment">// i 循环</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span> ; j &lt; <span class="number">10</span> ; j++) &#123; <span class="comment">// j 循环</span></span><br><span class="line">    <span class="keyword">if</span>( i == <span class="number">5</span> &amp;&amp; j == <span class="number">5</span> ) &#123;</span><br><span class="line">       <span class="keyword">break</span>; <span class="comment">// i = 5，j = 5 时，会跳出 j 循环</span></span><br><span class="line">    &#125; <span class="comment">// 但 i 循环会继续执行，等于跳出之后又继续执行更多次 j 循环</span></span><br><span class="line">  num++;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">alert(num); <span class="comment">// 输出 95</span></span><br></pre></td></tr></table></div></figure>

<p>// label</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="number">0</span>;</span><br><span class="line">outPoint:</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span> ; i &lt; <span class="number">10</span> ; i++)&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span> ; j &lt; <span class="number">10</span> ; j++)&#123;</span><br><span class="line">    <span class="keyword">if</span>( i == <span class="number">5</span> &amp;&amp; j == <span class="number">5</span> )&#123;</span><br><span class="line">      <span class="keyword">break</span> outPoint; <span class="comment">// 在 i = 5，j = 5 时，跳出所有循环，</span></span><br><span class="line">                      <span class="comment">// 返回到整个 outPoint 下方，继续执行</span></span><br><span class="line">    &#125;</span><br><span class="line">    num++;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">alert(num); <span class="comment">// 输出 55</span></span><br></pre></td></tr></table></div></figure>

<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="number">0</span>;</span><br><span class="line">outPoint:</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; <span class="number">10</span>; j++) &#123;</span><br><span class="line">    <span class="keyword">if</span>(i == <span class="number">5</span> &amp;&amp; j == <span class="number">5</span>) &#123;</span><br><span class="line">      <span class="keyword">continue</span> outPoint;</span><br><span class="line">    &#125;</span><br><span class="line">    num++;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">alert(num);  <span class="comment">// 95</span></span><br></pre></td></tr></table></div></figure>


        <h3 id="break">
          <a href="#break" class="heading-link"><i class="fas fa-link"></i></a>break</h3>
      <p>使用 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/statements/break"><code>break</code></a> 语句来终止循环，<code>switch</code>， 或者是链接到 label 语句</p>
<ul>
<li>当你使用不带 label 的 <code>break</code> 时， 它会立即终止当前所在的 <code>while</code>，<code>do-while</code>，<code>for</code>，或者 <code>switch</code> 并把控制权交回这些结构后面的语句。</li>
<li>当你使用带 label 的 <code>break</code> 时，它会终止指定的带标记（label）的语句。</li>
</ul>

        <h3 id="continue">
          <a href="#continue" class="heading-link"><i class="fas fa-link"></i></a>continue</h3>
      <p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/statements/continue"><code>continue</code></a> 语句可以用来继续执行（跳过代码块的剩余部分并进入下一循环）一个 <code>while</code>、<code>do-while</code>、<code>for</code>，或者 <code>label</code> 语句。</p>
<ul>
<li>当你使用不带 label 的 <code>continue</code> 时， 它终止当前 <code>while</code>，<code>do-while</code>，或者 for 语句到结尾的这次的循环并且继续执行下一次循环。</li>
<li>当你使用带 label 的 <code>continue</code> 时， 它会应用被 label 标识的循环语句。</li>
</ul>

        <h3 id="for…in">
          <a href="#for…in" class="heading-link"><i class="fas fa-link"></i></a>for…in</h3>
      <p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/statements/for...in"><code>for...in</code></a> 语句循环一个指定的变量来循环一个对象所有可枚举的属性。JavaScript 会为每一个不同的属性执行指定的语句。</p>

        <h3 id="for…of">
          <a href="#for…of" class="heading-link"><i class="fas fa-link"></i></a>for…of</h3>
      <p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/statements/for...of"><code>for...of</code></a> 语句在<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/iterable">可迭代对象</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>（包括<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Array"><code>Array</code></a>、<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Map"><code>Map</code></a>、<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Set"><code>Set</code></a>、<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/functions/arguments"><code>arguments</code></a> 等等）上创建了一个循环，对值的每一个独特属性调用一次迭代。</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>];</span><br><span class="line">arr.foo = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">in</span> arr) &#123;</span><br><span class="line">   <span class="built_in">console</span>.log(i); <span class="comment">// 输出 &quot;0&quot;, &quot;1&quot;, &quot;2&quot;, &quot;foo&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> arr) &#123;</span><br><span class="line">   <span class="built_in">console</span>.log(i); <span class="comment">// 输出 &quot;3&quot;, &quot;5&quot;, &quot;7&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    a: <span class="number">12</span>,</span><br><span class="line">    b: <span class="number">13</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">in</span> obj) &#123;</span><br><span class="line">   <span class="built_in">console</span>.log(i); <span class="comment">// 输出 &quot;a&quot;, &quot;b&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> obj) &#123;</span><br><span class="line">   <span class="built_in">console</span>.log(i); <span class="comment">// Uncaught TypeError: obj is not iterable</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>


        <h2 id="函数">
          <a href="#函数" class="heading-link"><i class="fas fa-link"></i></a>函数</h2>
      <p>函数是 JavaScript 中的基本组件之一</p>

        <h3 id="定义函数">
          <a href="#定义函数" class="heading-link"><i class="fas fa-link"></i></a>定义函数</h3>
      <p><strong>函数声明</strong></p>
<blockquote>
<p>一个<strong>函数定义</strong>（也称为<strong>函数声明</strong>，或<strong>函数语句</strong>）由一系列的<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/JavaScript/Reference/Statements/function"><code>function</code></a>关键字组成，依次为：</p>
<ul>
<li>函数的名称。</li>
<li>函数参数列表，包围在括号中并由逗号分隔。</li>
<li>定义函数的 JavaScript 语句，用大括号<code>&#123;&#125;</code>括起来。</li>
</ul>
</blockquote>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">square</span>(<span class="params">number</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> number * number;  <span class="comment">// 函数体</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<blockquote>
<p>关于参数：</p>
<p>原始参数（比如一个具体的数字）被作为<strong>值</strong>传递给函数；值被传递给函数，如果被调用函数改变了这个参数的值，这样的改变不会影响到全局或调用函数。</p>
<p>如果你传递一个对象（即一个非原始值，例如<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Array"><code>Array</code></a>或用户自定义的对象）作为参数，而函数改变了这个对象的属性，这样的改变对函数外部是可见的</p>
</blockquote>
<p><strong>函数表达式</strong></p>
<p>函数也可以由函数表达式创建。这样的函数可以是<strong>匿名</strong>的；</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> square = <span class="function"><span class="keyword">function</span>(<span class="params">number</span>) </span>&#123; <span class="keyword">return</span> number * number; &#125;;</span><br></pre></td></tr></table></div></figure>

<p>函数表达式也可以提供函数名，并且可以用于在函数内部代指其本身，或者在调试器堆栈跟踪中识别该函数</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> factorial = <span class="function"><span class="keyword">function</span> <span class="title">fac</span>(<span class="params">n</span>) </span>&#123;<span class="keyword">return</span> n&lt;<span class="number">2</span> ? <span class="number">1</span> : n*fac(n-<span class="number">1</span>)&#125;;</span><br></pre></td></tr></table></div></figure>

<p>当将函数作为参数传递给另一个函数时，函数表达式很方便。</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">map</span>(<span class="params">f, a</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> result = []; <span class="comment">// 创建一个数组</span></span><br><span class="line">  <span class="keyword">let</span> i; <span class="comment">// 声明一个值，用来循环</span></span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i != a.length; i++) </span><br><span class="line">    result[i] = f(a[i]);</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> f = <span class="function"><span class="keyword">function</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">   <span class="keyword">return</span> x * x * x; </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> numbers = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>,<span class="number">10</span>];</span><br><span class="line"><span class="keyword">let</span> cube = map(f,numbers);</span><br><span class="line"><span class="built_in">console</span>.log(cube);</span><br></pre></td></tr></table></div></figure>

<p>根据条件来定义一个函数</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myFunc;</span><br><span class="line"><span class="keyword">if</span> (num == <span class="number">0</span>)&#123;</span><br><span class="line">  myFunc = <span class="function"><span class="keyword">function</span>(<span class="params">theObject</span>) </span>&#123;</span><br><span class="line">    theObject.make = <span class="string">&quot;Toyota&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>当一个函数是一个对象的属性时，称之为<strong>方法</strong>。</p>

        <h3 id="调用函数">
          <a href="#调用函数" class="heading-link"><i class="fas fa-link"></i></a>调用函数</h3>
      <p>定义一个函数并不会自动的执行它。定义了函数仅仅是赋予函数以名称并明确函数被调用时该做些什么。<strong>调用</strong>函数才会以给定的参数真正执行这些动作。</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">square(<span class="number">5</span>);  <span class="comment">// 方法名字（[参数]）</span></span><br></pre></td></tr></table></div></figure>

<p>函数域是指函数声明时的所在的地方，或者函数在顶层被声明时指整个程序。</p>
<p>函数提升仅适用于函数声明，而不适用于函数表达式。</p>
<p>函数可以被递归，就是说函数可以调用其本身。</p>

        <h3 id="函数作用域">
          <a href="#函数作用域" class="heading-link"><i class="fas fa-link"></i></a>函数作用域</h3>
      <blockquote>
<p>在函数内定义的变量不能在函数之外的任何地方访问，因为变量仅仅在该函数的域的内部有定义。相对应的，一个函数可以访问定义在其范围内的任何变量和函数。换言之，定义在全局域中的函数可以访问所有定义在全局域中的变量。在另一个函数中定义的函数也可以访问在其父函数中定义的所有变量和父函数有权访问的任何其他变量。</p>
</blockquote>

        <h3 id="作用域和函数堆栈">
          <a href="#作用域和函数堆栈" class="heading-link"><i class="fas fa-link"></i></a>作用域和函数堆栈</h3>
      <p><strong>递归</strong></p>
<blockquote>
<p>一个函数可以指向并调用自身。</p>
<ol>
<li>函数名</li>
<li><code>arguments.callee</code></li>
<li>作用域下的一个指向该函数的变量名</li>
</ol>
</blockquote>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">   bar()</span><br><span class="line">	 <span class="built_in">arguments</span>.callee() <span class="comment">//ES5禁止在严格模式下使用此属性</span></span><br><span class="line">	 foo()</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></div></figure>

<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">i</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (i &lt; <span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;begin:&#x27;</span> + i);</span><br><span class="line">  foo(i - <span class="number">1</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;end:&#x27;</span> + i);</span><br><span class="line">&#125;</span><br><span class="line">foo(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// begin:3</span></span><br><span class="line"><span class="comment">// begin:2</span></span><br><span class="line"><span class="comment">// begin:1</span></span><br><span class="line"><span class="comment">// begin:0</span></span><br><span class="line"><span class="comment">// end:0</span></span><br><span class="line"><span class="comment">// end:1</span></span><br><span class="line"><span class="comment">// end:2</span></span><br><span class="line"><span class="comment">// end:3</span></span><br></pre></td></tr></table></div></figure>

<p><strong>嵌套函数和闭包</strong></p>
<blockquote>
<p>可以在一个函数里面嵌套另外一个函数。嵌套（内部）函数对其容器（外部）函数是私有的。它自身也形成了一个闭包。一个闭包是一个可以自己拥有独立的环境与变量的表达式（通常是函数）。内部函数包含外部函数的作用域,，也就是通常说的继承</p>
</blockquote>
<ul>
<li>内部函数只可以在外部函数中访问。</li>
<li>内部函数形成了一个闭包：它可以访问外部函数的参数和变量，但是外部函数却不能使用它的参数和变量。</li>
</ul>
<blockquote>
<p>函数可以被多层嵌套.因此，闭包可以包含多个作用域；他们递归式的包含了所有包含它的函数作用域。这个称之为作用<em>域链</em>。</p>
</blockquote>
<p><strong>命名冲突</strong></p>
<blockquote>
<p>当同一个闭包作用域下两个参数或者变量同名时，就会产生命名冲突。更近的作用域有更高的优先权，所以最近的优先级最高，最远的优先级最低。这就是作用域链。链的第一个元素就是最里面的作用域，最后一个元素便是最外层的作用域。</p>
</blockquote>

        <h3 id="闭包">
          <a href="#闭包" class="heading-link"><i class="fas fa-link"></i></a>闭包</h3>
      <blockquote>
<p>闭包是 JavaScript 中最强大的特性之一。JavaScript 允许函数嵌套，并且内部函数可以访问定义在外部函数中的所有变量和函数，以及外部函数能访问的所有变量和函数。</p>
</blockquote>
<p>此外，由于内部函数可以访问外部函数的作用域，因此当内部函数生存周期大于外部函数时，外部函数中定义的变量和函数的生存周期将比内部函数执行时间长。当内部函数以某一种方式被任何一个外部函数作用域访问时，一个闭包就产生了。</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> createPet = <span class="function"><span class="keyword">function</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> sex;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    setName: <span class="function"><span class="keyword">function</span>(<span class="params">newName</span>) </span>&#123;</span><br><span class="line">      name = newName;</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    getName: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> name;</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    getSex: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> sex;</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    setSex: <span class="function"><span class="keyword">function</span>(<span class="params">newSex</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span>(<span class="keyword">typeof</span> newSex == <span class="string">&quot;string&quot;</span> </span><br><span class="line">        &amp;&amp; (newSex.toLowerCase() == <span class="string">&quot;male&quot;</span> || newSex.toLowerCase() == <span class="string">&quot;female&quot;</span>)) &#123;</span><br><span class="line">        sex = newSex;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> pet = createPet(<span class="string">&quot;Vivie&quot;</span>);</span><br><span class="line">pet.getName();                  <span class="comment">// Vivie</span></span><br><span class="line">pet.setName(<span class="string">&quot;Oliver&quot;</span>);</span><br><span class="line">pet.setSex(<span class="string">&quot;male&quot;</span>);</span><br><span class="line">pet.getSex();                   <span class="comment">// male</span></span><br><span class="line">pet.getName();                  <span class="comment">// Oliver</span></span><br></pre></td></tr></table></div></figure>

<blockquote>
<p>如果一个闭包的函数定义了一个和外部函数的某个变量名称相同的变量，那么这个闭包将无法引用外部函数的这个变量</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> createPet = <span class="function"><span class="keyword">function</span>(<span class="params">name</span>) </span>&#123;  <span class="comment">// Outer function defines a variable called &quot;name&quot;</span></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    setName: <span class="function"><span class="keyword">function</span>(<span class="params">name</span>) </span>&#123;    <span class="comment">// Enclosed function also defines a variable called &quot;name&quot;</span></span><br><span class="line">      name = name;               <span class="comment">// ??? How do we access the &quot;name&quot; defined by the outer function ???</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>
</blockquote>

        <h3 id="arguments">
          <a href="#arguments" class="heading-link"><i class="fas fa-link"></i></a>arguments</h3>
      <p>函数的实际参数会被保存在一个类似数组的arguments对象中。</p>
<p>得到传入的参数：<code>arguments[i]</code></p>
<p>参数数量：<code>arguments.length</code></p>

        <h3 id="函数参数">
          <a href="#函数参数" class="heading-link"><i class="fas fa-link"></i></a>函数参数</h3>
      <p>从ECMAScript 6开始，有两个新的类型的参数：默认参数，剩余参数。</p>
<blockquote>
<p>在JavaScript中，函数参数的默认值是<code>undefined</code>。</p>
</blockquote>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 默认参数和ES6-的对比</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ES6-</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">multiply</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  b = (<span class="keyword">typeof</span> b !== <span class="string">&#x27;undefined&#x27;</span>) ?  b : <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> a*b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">multiply(<span class="number">5</span>); <span class="comment">// 5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 默认参数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">multiply</span>(<span class="params">a, b = <span class="number">1</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a*b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">multiply(<span class="number">5</span>); <span class="comment">// 5</span></span><br></pre></td></tr></table></div></figure>

<blockquote>
<p><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/rest_parameters">剩余参数</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>语法允许将不确定数量的参数表示为数组</p>
</blockquote>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">multiply</span>(<span class="params">multiplier, ...theArgs</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> theArgs.map(<span class="function"><span class="params">x</span> =&gt;</span> multiplier * x);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr = multiply(<span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr); <span class="comment">// [2, 4, 6]</span></span><br></pre></td></tr></table></div></figure>


        <h3 id="箭头函数">
          <a href="#箭头函数" class="heading-link"><i class="fas fa-link"></i></a>箭头函数</h3>
      <p>箭头函数总是匿名的</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [</span><br><span class="line">  <span class="string">&quot;Hydrogen&quot;</span>,</span><br><span class="line">  <span class="string">&quot;Helium&quot;</span>,</span><br><span class="line">  <span class="string">&quot;Lithium&quot;</span>,</span><br><span class="line">  <span class="string">&quot;Beryllium&quot;</span></span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a2 = a.map(<span class="function"><span class="keyword">function</span>(<span class="params">s</span>)</span>&#123; <span class="keyword">return</span> s.length &#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(a2); <span class="comment">// logs [ 8, 6, 7, 9 ]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a3 = a.map( <span class="function"><span class="params">s</span> =&gt;</span> s.length );</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(a3); <span class="comment">// logs [ 8, 6, 7, 9 ]</span></span><br></pre></td></tr></table></div></figure>

<blockquote>
<p>在箭头函数出现之前，每一个新函数都重新定义了自己的 <span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/this">this</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> 值（在构造函数中是一个新的对象；在严格模式下是未定义的</p>
</blockquote>
<p>箭头函数捕捉闭包上下文的<code>this</code>值</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.age = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.age++; <span class="comment">// 这里的`this`正确地指向person对象</span></span><br><span class="line">  &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Person();</span><br></pre></td></tr></table></div></figure>


        <h3 id="预定义函数">
          <a href="#预定义函数" class="heading-link"><i class="fas fa-link"></i></a>预定义函数</h3>
      <ul>
<li><code>eval()</code>方法会对一串字符串形式的JavaScript代码字符求值。</li>
<li><code>uneval()</code>方法创建的一个<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object"><code>Object</code></a>的源代码的字符串表示。  - 暂时不可以使用</li>
<li><code>isFinite()</code>函数判断传入的值是否是有限的数值。 如果需要的话，其参数首先被转换为一个数值。</li>
<li><code>isNaN()</code>函数判断一个值是否是<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/NaN"><code>NaN</code></a>。 另一个可供选择的是ECMAScript 6 中定义<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Number/isNaN"><code>Number.isNaN()</code></a> , 或者使用 <code>typeof</code>来判断数值类型。</li>
<li><code>parseFloat()</code> 函数解析字符串参数，并返回一个浮点数。</li>
<li><code>parseInt()</code> 函数解析字符串参数，并返回指定的基数（基础数学中的数制）的整数。</li>
<li><code>decodeURI()</code> 函数对先前经过<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/encodeURI"><code>encodeURI</code></a>函数或者其他类似方法编码过的字符串进行解码。</li>
<li><code>decodeURIComponent()</code>方法对先前经过<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent"><code>encodeURIComponent</code></a>函数或者其他类似方法编码过的字符串进行解码。</li>
<li><code>encodeURI()</code>与<code>encodeURIComponent()</code>都是编码的</li>
</ul>

        <h1 id="表达式与运算符">
          <a href="#表达式与运算符" class="heading-link"><i class="fas fa-link"></i></a>表达式与运算符</h1>
      
        <h3 id="运算符">
          <a href="#运算符" class="heading-link"><i class="fas fa-link"></i></a>运算符</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Expressions_and_Operators#%E8%B5%8B%E5%80%BC%E8%BF%90%E7%AE%97%E7%AC%A6">赋值运算符(Assignment operators)</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li>
<li><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Expressions_and_Operators#%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6">比较运算符(Comparison operators)</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li>
<li><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Expressions_and_Operators#%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6">算数运算符(Arithmetic operators)</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li>
<li><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Expressions_and_Operators#%E4%BD%8D%E8%BF%90%E7%AE%97%E7%AC%A6">位运算符(Bitwise operators)</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li>
<li><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Expressions_and_Operators#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6">逻辑运算符(Logical operators)</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li>
<li><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Expressions_and_Operators#%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BF%90%E7%AE%97%E7%AC%A6">字符串运算符(String operators)</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li>
<li><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Expressions_and_Operators#conditional_operator">条件（三元）运算符(Conditional operator)</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li>
<li><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Expressions_and_Operators#comma_operator">逗号运算符(Comma operator)</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li>
<li><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Expressions_and_Operators#delete">一元运算符(Unary operators)</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li>
<li><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Expressions_and_Operators#%E5%85%B3%E7%B3%BB%E6%93%8D%E4%BD%9C%E7%AC%A6">关系运算符(Relational operator)</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li>
</ul>

        <h4 id="赋值运算符">
          <a href="#赋值运算符" class="heading-link"><i class="fas fa-link"></i></a>赋值运算符</h4>
      <div class="table-container"><table>
<thead>
<tr>
<th align="left">名字</th>
<th align="left">简写的操作符</th>
<th align="left">含义</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Assignment_Operators#Assignment">赋值(Assignment)</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></td>
<td align="left"><code>x = y</code></td>
<td align="left"><code>x = y</code></td>
</tr>
<tr>
<td align="left"><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Assignment_Operators#Addition_assignment">加法赋值(Addition assignment)</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></td>
<td align="left"><code>x += y</code></td>
<td align="left"><code>x = x + y</code></td>
</tr>
<tr>
<td align="left"><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Assignment_Operators#Subtraction_assignment">减法赋值(Subtraction assignment)</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></td>
<td align="left"><code>x -= y</code></td>
<td align="left"><code>x = x - y</code></td>
</tr>
<tr>
<td align="left"><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Assignment_Operators#Multiplication_assignment">乘法赋值(Multiplication assignment)</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></td>
<td align="left"><code>x *= y</code></td>
<td align="left"><code>x = x * y</code></td>
</tr>
<tr>
<td align="left"><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Assignment_Operators#Division_assignment">除法赋值(Division assignment)</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></td>
<td align="left"><code>x /= y</code></td>
<td align="left"><code>x = x / y</code></td>
</tr>
<tr>
<td align="left"><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Assignment_Operators#Remainder_assignment">求余赋值(Remainder assignment)</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></td>
<td align="left"><code>x %= y</code></td>
<td align="left"><code>x = x % y</code></td>
</tr>
<tr>
<td align="left"><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Assignment_Operators#Exponentiation_assignment">求幂赋值(Exponentiation assignment)</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></td>
<td align="left"><code>x **= y</code></td>
<td align="left"><code>x = x ** y</code></td>
</tr>
<tr>
<td align="left"><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Assignment_Operators#Left_shift_assignment">左移位赋值(Left shift assignment)</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></td>
<td align="left"><code>x &lt;&lt;= y</code></td>
<td align="left"><code>x = x &lt;&lt; y</code></td>
</tr>
<tr>
<td align="left"><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Assignment_Operators#Right_shift_assignment">右移位赋值(Right shift assignment)</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></td>
<td align="left"><code>x &gt;&gt;= y</code></td>
<td align="left"><code>x = x &gt;&gt; y</code></td>
</tr>
<tr>
<td align="left"><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Assignment_Operators#Unsigned_right_shift_assignment">无符号右移位赋值(Unsigned right shift assignment)</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></td>
<td align="left"><code>x &gt;&gt;&gt;= y</code></td>
<td align="left"><code>x = x &gt;&gt;&gt; y</code></td>
</tr>
<tr>
<td align="left"><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Assignment_Operators#Bitwise_AND_assignment">按位与赋值(Bitwise AND assignment)</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></td>
<td align="left"><code>x &amp;= y</code></td>
<td align="left"><code>x = x &amp; y</code></td>
</tr>
<tr>
<td align="left"><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Assignment_Operators#Bitwise_XOR_assignment">按位异或赋值(Bitwise XOR assignment)</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></td>
<td align="left"><code>x ^= y</code></td>
<td align="left"><code>x = x ^ y</code></td>
</tr>
<tr>
<td align="left"><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Assignment_Operators#Bitwise_OR_assignment">按位或赋值(Bitwise OR assignment)</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></td>
<td align="left">`x</td>
<td align="left">= y`</td>
</tr>
</tbody></table></div>
<p><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment">解构赋值</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>语法是一个能从数组或对象对应的数组结构或对象字面量里提取数据的 Javascript 表达式。</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = [<span class="string">&quot;one&quot;</span>, <span class="string">&quot;two&quot;</span>, <span class="string">&quot;three&quot;</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 不使用解构</span></span><br><span class="line"><span class="keyword">var</span> one   = foo[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">var</span> two   = foo[<span class="number">1</span>];</span><br><span class="line"><span class="keyword">var</span> three = foo[<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用解构</span></span><br><span class="line"><span class="keyword">var</span> [one, two, three] = foo;</span><br></pre></td></tr></table></div></figure>


        <h4 id="比较运算符">
          <a href="#比较运算符" class="heading-link"><i class="fas fa-link"></i></a>比较运算符</h4>
      <div class="table-container"><table>
<thead>
<tr>
<th align="left">运算符</th>
<th align="left">描述</th>
<th align="left">返回true的示例</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Comparison_Operators#Equality">等于 Equal</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> (<code>==</code>)</td>
<td align="left">如果两边操作数相等时返回true。</td>
<td align="left"><code>3 == var1``&quot;3&quot; == var1``3 == &#39;3&#39;</code></td>
</tr>
<tr>
<td align="left"><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Comparison_Operators#Inequality">不等于 Not equal</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> (<code>!=</code>)</td>
<td align="left">如果两边操作数不相等时返回true</td>
<td align="left"><code>var1 != 4var2 != &quot;3&quot;</code></td>
</tr>
<tr>
<td align="left"><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Comparison_Operators#Identity">全等 Strict equal</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> (<code>===</code>)</td>
<td align="left">两边操作数相等且类型相同时返回true。 参见 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/is"><code>Object.is</code></a> and <span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Equality_comparisons_and_sameness">sameness in JS</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>.</td>
<td align="left"><code>3 === var1</code></td>
</tr>
<tr>
<td align="left"><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Comparison_Operators#Nonidentity">不全等 Strict not equal</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> (<code>!==</code>)</td>
<td align="left">两边操作数不相等或类型不同时返回true。</td>
<td align="left"><code>var1 !== &quot;3&quot;3 !== &#39;3&#39;</code></td>
</tr>
<tr>
<td align="left"><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Comparison_Operators#Greater_than_operator">大于 Greater than</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> (<code>&gt;</code>)</td>
<td align="left">左边的操作数大于右边的操作数返回true</td>
<td align="left"><code>var2 &gt; var1&quot;12&quot; &gt; 2</code></td>
</tr>
<tr>
<td align="left"><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Comparison_Operators#Greater_than_or_equal_operator">大于等于 Greater than or equal</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> (<code>&gt;=</code>)</td>
<td align="left">左边的操作数大于或等于右边的操作数返回true</td>
<td align="left"><code>var2 &gt;= var1var1 &gt;= 3</code></td>
</tr>
<tr>
<td align="left"><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Comparison_Operators#Less_than_operator">小于 Less than</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> (<code>&lt;</code>)</td>
<td align="left">左边的操作数小于右边的操作数返回true</td>
<td align="left"><code>var1 &lt; var2&quot;2&quot; &lt; 12</code></td>
</tr>
<tr>
<td align="left"><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Comparison_Operators#Less_than_or_equal_operator">小于等于 Less than or equal</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> (<code>&lt;=</code>)</td>
<td align="left">左边的操作数小于或等于右边的操作数返回true</td>
<td align="left"><code>var1 &lt;= var2var2 &lt;= 5</code></td>
</tr>
</tbody></table></div>

        <h4 id="算术运算符">
          <a href="#算术运算符" class="heading-link"><i class="fas fa-link"></i></a>算术运算符</h4>
      <div class="table-container"><table>
<thead>
<tr>
<th align="left">Operator</th>
<th align="left">Description</th>
<th align="left">Example</th>
</tr>
</thead>
<tbody><tr>
<td align="left">求余(<code>%</code>)</td>
<td align="left">二元运算符. 返回相除之后的余数.</td>
<td align="left">12 % 5 返回 2。</td>
</tr>
<tr>
<td align="left">自增(<code>++</code>)</td>
<td align="left">一元运算符. 将操作数的值加一. 如果放在操作数前面 (<code>++x</code>), 则返回加一后的值; 如果放在操作数后面 (<code>x++</code>), 则返回操作数原值,然后再将操作数加一.</td>
<td align="left"><code>var x=3;``console.log(++x); //4``console.log(x); //4``var y=3;``console.log(y++); //3``console.log(y); //4</code></td>
</tr>
<tr>
<td align="left">自减(<code>--</code>)</td>
<td align="left">一元运算符. 将操作数的值减一. 前后缀两种用法的返回值类似自增运算符.</td>
<td align="left">var x=3; console.log(–x); //输入2,x=2var y=3;console.log(y–);//输出3,x=2;</td>
</tr>
<tr>
<td align="left">一元负值符(<code>-</code>)</td>
<td align="left">一元运算符,返回操作数的负值.</td>
<td align="left">var x=3; console.log(-x); //输入-3</td>
</tr>
<tr>
<td align="left">一元正值符(+)</td>
<td align="left">一元运算符, 如果操作数在之前不是number，试图将其转换为number</td>
<td align="left"><code>console.log( +&#39;3&#39; ); // 3``console.log( &#39;3&#39; ); // &#39;3&#39;</code>console.log(+true); // 1</td>
</tr>
<tr>
<td align="left">指数运算符(**)</td>
<td align="left">计算 <code>base(底数)</code> 的 <code>exponent(</code>指数<code>)次方</code>, 表示为<code>baseexponent</code></td>
<td align="left"><code>2 ** 3</code> returns <code>8</code>. <code>10 ** -1</code> returns <code>0.1</code>.</td>
</tr>
</tbody></table></div>

        <h4 id="位运算符">
          <a href="#位运算符" class="heading-link"><i class="fas fa-link"></i></a>位运算符</h4>
      <div class="table-container"><table>
<thead>
<tr>
<th align="left">perator</th>
<th align="left">Usage</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">按位与<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators#Bitwise_AND"> AND</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></td>
<td align="left"><code>a &amp; b</code></td>
<td align="left">在a,b的位表示中，每一个对应的位都为1则返回1， 否则返回0.</td>
</tr>
<tr>
<td align="left">按位或<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators#Bitwise_OR"> OR</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></td>
<td align="left">`a</td>
<td align="left">b`</td>
</tr>
<tr>
<td align="left">按位异或<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators#Bitwise_XOR"> XOR</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></td>
<td align="left"><code>a ^ b</code></td>
<td align="left">在a,b的位表示中，每一个对应的位，两个不相同则返回1，相同则返回0.</td>
</tr>
<tr>
<td align="left">按位非<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators#Bitwise_NOT"> NOT</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></td>
<td align="left"><code>~ a</code></td>
<td align="left">反转被操作数的位。</td>
</tr>
<tr>
<td align="left">左移<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators#Left_shift"> shift</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></td>
<td align="left"><code>a &lt;&lt; b</code></td>
<td align="left">将a的二进制串向左移动b位,右边移入0.</td>
</tr>
<tr>
<td align="left">算术右移</td>
<td align="left"><code>a &gt;&gt; b</code></td>
<td align="left">把a的二进制表示向右移动b位，丢弃被移出的所有位.(译注:算术右移左边空出的位是根据最高位是0和1来进行填充的)</td>
</tr>
<tr>
<td align="left">无符号右移(左边空出位用0填充)</td>
<td align="left"><code>a &gt;&gt;&gt; b</code></td>
<td align="left">把a的二进制表示向右移动b位，丢弃被移出的所有位，并把左边空出的位都填充为0</td>
</tr>
</tbody></table></div>

        <h4 id="逻辑运算符">
          <a href="#逻辑运算符" class="heading-link"><i class="fas fa-link"></i></a>逻辑运算符</h4>
      <div class="table-container"><table>
<thead>
<tr>
<th align="left">运算符</th>
<th align="left">范例</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Logical_Operators#Logical_AND">逻辑与</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><code> (&amp;&amp;</code>)</td>
<td align="left"><code>expr1 &amp;&amp; expr2</code></td>
<td align="left">(逻辑与) 如果expr1能被转换为false，那么返回expr1；否则，返回<code>expr2</code>。因此<code>，&amp;&amp;</code>用于布尔值时，当操作数都为true时返回true；否则返回false.</td>
</tr>
<tr>
<td align="left"><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Logical_Operators#Logical_OR">逻辑或 </a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>(`</td>
<td align="left"></td>
<td align="left">`)</td>
</tr>
<tr>
<td align="left"><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Logical_Operators#Logical_NOT">逻辑非</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><code> (!)</code></td>
<td align="left"><code>!expr</code></td>
<td align="left">(逻辑非) 如果操作数能够转换为true则返回false；否则返回true。</td>
</tr>
</tbody></table></div>

        <h4 id="字符串运算符">
          <a href="#字符串运算符" class="heading-link"><i class="fas fa-link"></i></a>字符串运算符</h4>
      <figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;my &quot;</span> + <span class="string">&quot;string&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> myString = <span class="string">&quot;alpha&quot;</span>;</span><br><span class="line">myString += <span class="string">&quot;bet&quot;</span>; <span class="comment">// 返回 &quot;alphabet&quot;</span></span><br></pre></td></tr></table></div></figure>


        <h4 id="条件（三元）运算符">
          <a href="#条件（三元）运算符" class="heading-link"><i class="fas fa-link"></i></a>条件（三元）运算符</h4>
      <figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> status = (age &gt;= <span class="number">18</span>) ? <span class="string">&quot;adult&quot;</span> : <span class="string">&quot;minor&quot;</span>;</span><br></pre></td></tr></table></div></figure>


        <h4 id="逗号操作符">
          <a href="#逗号操作符" class="heading-link"><i class="fas fa-link"></i></a>逗号操作符</h4>
      <figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, j = <span class="number">9</span>; i &lt;= j; i++, j--)</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;a[&#x27;</span> + i + <span class="string">&#x27;][&#x27;</span> + j + <span class="string">&#x27;]= &#x27;</span> + a[i][j]);</span><br></pre></td></tr></table></div></figure>


        <h4 id="一元操作符">
          <a href="#一元操作符" class="heading-link"><i class="fas fa-link"></i></a>一元操作符</h4>
      <p>一元操作符仅对应一个操作数。</p>
<ul>
<li><p><code>delete</code>操作符，删除一个对象或一个对象的属性或者一个数组中某一个键值。</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> objectName;</span><br><span class="line"><span class="keyword">delete</span> objectName.property;</span><br><span class="line"><span class="keyword">delete</span> objectName[index];</span><br></pre></td></tr></table></div></figure>

<p>能使用 <code>delete</code> 删除各种各样的隐式声明， 但是被<code>var</code>声明的除外。</p>
<p>如果 <code>delete</code> 操作成功，属性或者元素会变成 <code>undefined</code>。如果 <code>delete</code>可行会返回<code>true</code>，如果不成功返回<code>false</code>。</p>
<blockquote>
<p>删除数组中的元素时，数组的长度是不变的</p>
</blockquote>
</li>
</ul>

        <h4 id="typeof操作符">
          <a href="#typeof操作符" class="heading-link"><i class="fas fa-link"></i></a>typeof操作符</h4>
      <figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myFun = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">&quot;5 + 2&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> shape = <span class="string">&quot;round&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> size = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">var</span> today = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">typeof</span> myFun;     <span class="comment">// returns &quot;function&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> shape;     <span class="comment">// returns &quot;string&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> size;      <span class="comment">// returns &quot;number&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> today;     <span class="comment">// returns &quot;object&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> dontExist; <span class="comment">// returns &quot;undefined&quot; =====</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">true</span>; <span class="comment">// returns &quot;boolean&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">null</span>; <span class="comment">// returns &quot;object&quot;   ====== </span></span><br><span class="line"><span class="keyword">typeof</span> <span class="number">62</span>;    <span class="comment">// returns &quot;number&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="string">&#x27;Hello world&#x27;</span>; <span class="comment">// returns &quot;string&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="built_in">Date</span>;     <span class="comment">// returns &quot;function&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="built_in">Function</span>; <span class="comment">// returns &quot;function&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="built_in">Math</span>;     <span class="comment">// returns &quot;object&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> Option;   <span class="comment">// returns &quot;function&quot;  ========</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="built_in">String</span>;   <span class="comment">// returns &quot;function&quot;</span></span><br></pre></td></tr></table></div></figure>


        <h4 id="void-运算符">
          <a href="#void-运算符" class="heading-link"><i class="fas fa-link"></i></a>void 运算符</h4>
      <p>void表明一个运算没有返回值, 可以使用void运算符指明一个超文本链接。该表达式是有效的，但是并不会在当前文档中进行加载。</p>
<figure class="highlight html"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:void(0)&quot;</span>&gt;</span>Click here to do nothing<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:void(document.form.submit())&quot;</span>&gt;</span></span><br><span class="line">Click here to submit<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></div></figure>


        <h4 id="关系操作符">
          <a href="#关系操作符" class="heading-link"><i class="fas fa-link"></i></a>关系操作符</h4>
      <p>关系操作符对操作数进行比较，根据比较结果真或假，返回相应的布尔值。</p>
<p><strong><code>in</code>**如果所指定的</strong>属性**确实存在于所指定的对象中，则会返回<code>true</code></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Arrays</span></span><br><span class="line"><span class="keyword">var</span> trees = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">&quot;redwood&quot;</span>, <span class="string">&quot;bay&quot;</span>, <span class="string">&quot;cedar&quot;</span>, <span class="string">&quot;oak&quot;</span>, <span class="string">&quot;maple&quot;</span>);</span><br><span class="line"><span class="number">0</span> <span class="keyword">in</span> trees;        <span class="comment">// returns true</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">in</span> trees;        <span class="comment">// returns true</span></span><br><span class="line"><span class="number">6</span> <span class="keyword">in</span> trees;        <span class="comment">// returns false</span></span><br><span class="line"><span class="string">&quot;bay&quot;</span> <span class="keyword">in</span> trees;    <span class="comment">// returns false (you must specify the index number,</span></span><br><span class="line">                   <span class="comment">// not the value at that index)</span></span><br><span class="line"><span class="string">&quot;length&quot;</span> <span class="keyword">in</span> trees; <span class="comment">// returns true (length is an Array property)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Predefined objects</span></span><br><span class="line"><span class="string">&quot;PI&quot;</span> <span class="keyword">in</span> <span class="built_in">Math</span>;          <span class="comment">// returns true</span></span><br><span class="line"><span class="keyword">var</span> myString = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">&quot;coral&quot;</span>);</span><br><span class="line"><span class="string">&quot;length&quot;</span> <span class="keyword">in</span> myString;  <span class="comment">// returns true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Custom objects</span></span><br><span class="line"><span class="keyword">var</span> mycar = &#123;<span class="attr">make</span>: <span class="string">&quot;Honda&quot;</span>, <span class="attr">model</span>: <span class="string">&quot;Accord&quot;</span>, <span class="attr">year</span>: <span class="number">1998</span>&#125;;</span><br><span class="line"><span class="string">&quot;make&quot;</span> <span class="keyword">in</span> mycar;  <span class="comment">// returns true</span></span><br><span class="line"><span class="string">&quot;model&quot;</span> <span class="keyword">in</span> mycar; <span class="comment">// returns true</span></span><br></pre></td></tr></table></div></figure>


        <h4 id="instanceof运算符">
          <a href="#instanceof运算符" class="heading-link"><i class="fas fa-link"></i></a>instanceof运算符</h4>
      <p>如果所判别的对象确实是所指定的类型，则返回<code>true</code>。</p>

        <h3 id="表达式">
          <a href="#表达式" class="heading-link"><i class="fas fa-link"></i></a>表达式</h3>
      <p>JavaScript有以下表达式类型：</p>
<ul>
<li>算数: 得出一个数字, 例如 3.14159. (通常使用 <span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Expressions_and_Operators#Arithmetic_operators">arithmetic operators</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>.)</li>
<li>字符串: 得出一个字符串, 例如, “Fred” 或 “234”. (通常使用 <span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Expressions_and_Operators#String_operators">string operators</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>.)</li>
<li>逻辑值: 得出true或者false. (经常涉及到 <span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Expressions_and_Operators#Logical_operators">logical operators</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>.)</li>
<li>基本表达式: javascript中基本的关键字和一般表达式。</li>
<li>左值表达式: 分配给左值。</li>
</ul>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this"><code>this</code></a>关键字被用于指代当前的对象，通常，<code>this</code>指代的是方法中正在被调用的对象。</p>
</blockquote>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>[<span class="string">&quot;propertyName&quot;</span>]</span><br><span class="line"><span class="built_in">this</span>.propertyName</span><br></pre></td></tr></table></div></figure>

<p>扩展运算符</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">x, y, z</span>) </span>&#123; &#125;</span><br><span class="line"><span class="keyword">var</span> args = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>];</span><br><span class="line">f(...args);</span><br></pre></td></tr></table></div></figure>

</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2020/06/30/%E5%8E%9F%E5%9E%8B%E9%93%BE%E5%AD%A6%E4%B9%A0/">原型链学习</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2020-06-30</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2020-11-23</span></span><span class="post-meta-item post-meta-item--wordcount"><span class="post-meta-item__icon"><i class="far fa-file-word"></i></span><span class="post-meta-item__info">字数统计</span><span class="post-meta-item__value">3.4k</span></span><span class="post-meta-item post-meta-item--readtime"><span class="post-meta-item__icon"><i class="far fa-clock"></i></span><span class="post-meta-item__info">阅读时长</span><span class="post-meta-item__value">29分</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h2 id="理解对象">
          <a href="#理解对象" class="heading-link"><i class="fas fa-link"></i></a>理解对象</h2>
      <p>对象是 无序属性的集合，其属性可以包括基本值，对象或者函数。每个对象都是基于一个引用类型定义的。</p>
<p>早期 =&gt; 创建一个 Object 实例：</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line"></span><br><span class="line">person.name = <span class="string">&#x27;sera&#x27;</span>;</span><br><span class="line">person.age = <span class="number">22</span>;</span><br><span class="line">person.gender = <span class="string">&#x27;女&#x27;</span>;</span><br><span class="line">person.sayName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">person.sayName(); <span class="comment">// sera</span></span><br></pre></td></tr></table></div></figure>

<p>中期 =&gt; 对象字面量</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">  name: <span class="string">&#x27;sera&#x27;</span>,</span><br><span class="line">  age: <span class="number">22</span>,</span><br><span class="line">  gender: <span class="string">&#x27;女&#x27;</span>,</span><br><span class="line">  sayName: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">person.sayName()</span><br></pre></td></tr></table></div></figure>


        <h3 id="属性类型">
          <a href="#属性类型" class="heading-link"><i class="fas fa-link"></i></a>属性类型</h3>
      <p>对象的两种属性：数据属性和访问器属性</p>

        <h4 id="数据属性">
          <a href="#数据属性" class="heading-link"><i class="fas fa-link"></i></a>数据属性</h4>
      <p>数据属性包含一个数据值的位置，在这个位置可以读取和写入值。数据属性的4个特性：</p>
<ul>
<li>[[ configurable ]]: 默认是 true，表示是否可修改属性特性或者delete 属性</li>
<li>[[ enumerable ]]: 默认是 true， 是否可以循环遍历属性</li>
<li>[[ writable ]]: 默认是 true，表示是否修改属性的值</li>
<li>[[ value ]]: 包含这个属性的数据值，读取写入都是该值，默认是 undefined</li>
</ul>
<p>修改属性默认的特性：Object.defineProperty()</p>
<blockquote>
<p>三个参数：属性所在的对象、属性的名字、一个描述符对象（描述符对象的属性为数据属性的4个特性之一）</p>
</blockquote>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = &#123;&#125;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(person, <span class="string">&quot;name&quot;</span>, &#123;</span><br><span class="line">  writable: <span class="literal">false</span>,</span><br><span class="line">  value: <span class="string">&#x27;sera&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(person.name) <span class="comment">// sera</span></span><br><span class="line"><span class="comment">// 非严格模式下列赋值被忽略，严格模式报错</span></span><br><span class="line">person.name = <span class="string">&#x27;noJack&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(person.name) <span class="comment">// sera</span></span><br></pre></td></tr></table></div></figure>

<p>如果把 <code>configurable</code> 设置为 false， 表示不能从对象中删除属性，如果对属性调用<code> delete</code>, 非严格模式被忽略，严格模式报错。若把属性定义为不可配置的，就无法变为可配置了，再调用<code>Object.defineProperty()</code>修改除了 <code>writable</code> 之外的属性都会报错。</p>

        <h4 id="访问器属性">
          <a href="#访问器属性" class="heading-link"><i class="fas fa-link"></i></a>访问器属性</h4>
      <p>不包含数据值，包含一对 <code>getter</code> (读取)与 <code>setter</code>(写入) 函数。访问器属性的4个特性：</p>
<ul>
<li>[[ Configurable ]]: 默认是 true，表示是否可配置</li>
<li>[[ Enumerable ]]: 默认是 true， 是否可以循环遍历属性</li>
<li>[[ Get ]]: 读取属性时调用</li>
<li>[[ Set ]]: 写入属性时调用</li>
</ul>
<p>访问器属性不能直接定义，要使用<code>Object.defineProperty()</code>定义</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> book = &#123;</span><br><span class="line">  _year: <span class="number">2009</span>,</span><br><span class="line">  edition: <span class="number">1</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(book, <span class="string">&quot;year&quot;</span>, &#123;</span><br><span class="line">  get: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>._year</span><br><span class="line">  &#125;,</span><br><span class="line">  set: <span class="function"><span class="keyword">function</span>(<span class="params">newValue</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(newValue &gt; <span class="number">2004</span>) &#123;</span><br><span class="line">      <span class="built_in">this</span>._year = newValue</span><br><span class="line">      <span class="built_in">this</span>.edition += newValue - <span class="number">2004</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">book.year = <span class="number">2019</span></span><br><span class="line"><span class="built_in">console</span>.log(book) <span class="comment">// &#123; _year: 2019, edition: 16 &#125;</span></span><br></pre></td></tr></table></div></figure>

<p>只指定 getter 意味着属性不可写入</p>
<p>处理低版本的访问器属性：<code>__defineGetter__ </code>与<code>__defineSetter__ </code></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">book.__defineGetter__(<span class="string">&quot;year&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">this</span>._year</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">book.__defineSetter__(<span class="string">&quot;year&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">newValue</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(newValue &gt; <span class="number">2004</span>) &#123;</span><br><span class="line">      <span class="built_in">this</span>._year = newValue</span><br><span class="line">      <span class="built_in">this</span>.edition += newValue - <span class="number">2004</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure>

<p>如果不支持<code>Object.defineProperty</code>的浏览器不可以修改[[ Configurable ]] 与 [[ Enumerable ]]</p>

        <h3 id="定义多个属性">
          <a href="#定义多个属性" class="heading-link"><i class="fas fa-link"></i></a>定义多个属性</h3>
      <p>Object.defineProperties()方法，可以一次定义多个属性。</p>
<blockquote>
<p>两个对象参数： 1是添加和修改其属性的对象，第二个对象的属性与第一个对象中要添加或修改的属性一一对应。</p>
</blockquote>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = &#123;&#125;</span><br><span class="line"><span class="built_in">Object</span>.defineProperties(person, &#123;</span><br><span class="line">  _year: &#123; <span class="attr">value</span>: <span class="number">2004</span> &#125;,</span><br><span class="line">  edition: &#123; <span class="attr">value</span>: <span class="number">1</span> &#125;,</span><br><span class="line">  year: &#123;</span><br><span class="line">    get: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">this</span>._year</span><br><span class="line">    &#125;,</span><br><span class="line">    set: <span class="function"><span class="keyword">function</span>(<span class="params">newV</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span>(newV &gt; <span class="number">2001</span>) &#123;</span><br><span class="line">        <span class="built_in">this</span>._year = newV</span><br><span class="line">        <span class="built_in">this</span>.edition += newV</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure>


        <h3 id="读取属性的特性">
          <a href="#读取属性的特性" class="heading-link"><i class="fas fa-link"></i></a>读取属性的特性</h3>
      <p><code>Object.getOwnPropertyDescriptor() </code>方法：两个参数</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> book = &#123;&#125;</span><br><span class="line"><span class="built_in">Object</span>.defineProperties(book, &#123;</span><br><span class="line">  _year: &#123; <span class="attr">value</span>: <span class="number">2004</span> &#125;,</span><br><span class="line">  edition: &#123; <span class="attr">value</span>: <span class="number">1</span> &#125;,</span><br><span class="line">  year: &#123;</span><br><span class="line">    get: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">this</span>._year</span><br><span class="line">    &#125;,</span><br><span class="line">    set: <span class="function"><span class="keyword">function</span>(<span class="params">newV</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span>(newV &gt; <span class="number">2001</span>) &#123;</span><br><span class="line">        <span class="built_in">this</span>._year = newV</span><br><span class="line">        <span class="built_in">this</span>.edition += newV</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyDescriptor(book, <span class="string">&quot;_year&quot;</span>))</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  &#123; value: 2004,</span></span><br><span class="line"><span class="comment">  writable: false,</span></span><br><span class="line"><span class="comment">  enumerable: false,</span></span><br><span class="line"><span class="comment">  configurable: false &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyDescriptor(book, <span class="string">&quot;year&quot;</span>))</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  &#123; get: [Function: get],</span></span><br><span class="line"><span class="comment">  set: [Function: set],</span></span><br><span class="line"><span class="comment">  enumerable: false,</span></span><br><span class="line"><span class="comment">  configurable: false &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></div></figure>

<hr>

        <h2 id="创建对象">
          <a href="#创建对象" class="heading-link"><i class="fas fa-link"></i></a>创建对象</h2>
      
        <h3 id="工厂模式">
          <a href="#工厂模式" class="heading-link"><i class="fas fa-link"></i></a>工厂模式</h3>
      <figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createPerson</span> (<span class="params">name, age, gender</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> o = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">  o.name = name;</span><br><span class="line">  o.age = age;</span><br><span class="line">  o.gender = gender;</span><br><span class="line">  o.sayName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> o;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p1 = createPerson(<span class="string">&#x27;sera&#x27;</span>, <span class="number">18</span>, <span class="string">&#x27;FEMALE&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> p2 = createPerson(<span class="string">&#x27;noJack&#x27;</span>, <span class="number">20</span>, <span class="string">&#x27;MALE&#x27;</span>);</span><br><span class="line"></span><br><span class="line">p1.sayName()</span><br><span class="line">p2.sayName()</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> p2) <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(p2.constructor) <span class="comment">// [Function: Object]</span></span><br></pre></td></tr></table></div></figure>

<p>解决了创建多个相似对象的问题，但是没有解决对象识别问题</p>

        <h3 id="构造函数模式">
          <a href="#构造函数模式" class="heading-link"><i class="fas fa-link"></i></a>构造函数模式</h3>
      <figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age, gender</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.name = name;</span><br><span class="line">  <span class="built_in">this</span>.age = age;</span><br><span class="line">  <span class="built_in">this</span>.gender = gender;</span><br><span class="line">  <span class="built_in">this</span>.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> Person(<span class="string">&#x27;sera&#x27;</span>, <span class="number">18</span>, <span class="string">&#x27;FEMALE&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> p2 = <span class="keyword">new</span> Person(<span class="string">&#x27;noJack&#x27;</span>, <span class="number">20</span>, <span class="string">&#x27;MALE&#x27;</span>);</span><br><span class="line"></span><br><span class="line">p1.sayName()</span><br><span class="line">p2.sayName()</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> p2) <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(p1.constructor) <span class="comment">// [Function: Person]</span></span><br><span class="line"><span class="built_in">console</span>.log(p1 <span class="keyword">instanceof</span> <span class="built_in">Object</span>) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(p1 <span class="keyword">instanceof</span> Person) <span class="comment">// true</span></span><br></pre></td></tr></table></div></figure>

<p>创建 <code>Person</code>的实例需要<code>new</code>操作符。这种方法调用构造函数会经历以下四个步骤： </p>
<ul>
<li>创建一个新的对象</li>
<li>将构造函数的作用域赋给新对象（因此 this 指向了这个新对象）</li>
<li>执行构造函数中的代码（为这个新对象添加属性）</li>
<li>返回新对象。</li>
</ul>
<p>使用构造函数的主要问题就是每个方法都要在每个实例上重新创建一遍，所以需要解决</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age, gender</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.name = name;</span><br><span class="line">  <span class="built_in">this</span>.age = age;</span><br><span class="line">  <span class="built_in">this</span>.gender = gender;</span><br><span class="line">  <span class="built_in">this</span>.sayName = sayName;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayName</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> Person(<span class="string">&#x27;sera&#x27;</span>, <span class="number">18</span>, <span class="string">&#x27;FEMALE&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> p2 = <span class="keyword">new</span> Person(<span class="string">&#x27;noJack&#x27;</span>, <span class="number">20</span>, <span class="string">&#x27;MALE&#x27;</span>);</span><br><span class="line"></span><br><span class="line">p1.sayName()</span><br><span class="line">p2.sayName()</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> p2) <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(p1.constructor) <span class="comment">// [Function: Person]</span></span><br><span class="line"><span class="built_in">console</span>.log(p1 <span class="keyword">instanceof</span> <span class="built_in">Object</span>) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(p1 <span class="keyword">instanceof</span> Person) <span class="comment">// true</span></span><br></pre></td></tr></table></div></figure>

<p>但是这样就造成了全局污染（因为sayName被定义到了全局），但是实际应该是<code>Person</code>的私有方法。</p>

        <h3 id="原型模式">
          <a href="#原型模式" class="heading-link"><i class="fas fa-link"></i></a>原型模式</h3>
      
        <h4 id="理解原型">
          <a href="#理解原型" class="heading-link"><i class="fas fa-link"></i></a>理解原型</h4>
      <p>​        每个函数都有一个 prototype (原型)属性，这个属性是一个指针，指向一个对象，这个对象的用途是包含可以由特定类型的所有实例共享的属性和方法。使用原型对象的好处是可以让所有对象实例共享它所包含的属性和方法。</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">Person.prototype.name = <span class="string">&#x27;sera&#x27;</span>;</span><br><span class="line">Person.prototype.age = <span class="number">12</span>;</span><br><span class="line">Person.prototype.gender = <span class="string">&#x27;FEMALE&#x27;</span>;</span><br><span class="line"></span><br><span class="line">Person.prototype.sayName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> Person();</span><br><span class="line"></span><br><span class="line">p1.sayName(); <span class="comment">// sera</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p2 = <span class="keyword">new</span> Person();</span><br><span class="line"></span><br><span class="line">p2.sayName(); <span class="comment">// sera</span></span><br></pre></td></tr></table></div></figure>

<p>​        无论什么时候，只要创建了一个新函数，就会有一个 prototype属性，指向函数的原型对象。在默认情况下，所有原型对象都会自动获得一个 constructor 属性，这个构造函数属性包含一个指向 prototype属性所在函数的指针。通过这个构造函数，可以继续为原型对象添加其他属性和方法。访问prototype用<code>__proto__</code>属性, 这个连接存在于实例与构造函数的原型对象之间，而不是存在于实例与构造函数之间。</p>
<p><img src="/2020/06/30/%E5%8E%9F%E5%9E%8B%E9%93%BE%E5%AD%A6%E4%B9%A0/image-20201021111231896.png" alt="image-20201021111231896"></p>
<p>通过 <code>isPrototypeOf()</code>方法确定对象之间是否存在指向 prototype属性所在函数的指针</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.isPrototypeOf(p1)) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getPrototypeOf(p1)) <span class="comment">// Person &#123; name: &#x27;sera&#x27;, age: 12, gender: &#x27;FEMALE&#x27;, sayName: [Function] &#125;</span></span><br></pre></td></tr></table></div></figure>

<p>不能通过对象原型重写原型中的值，如果实例添加了一个与原型同名的属性，会屏蔽掉原型同名的属性。</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">Person.prototype.name = <span class="string">&#x27;sera&#x27;</span>;</span><br><span class="line">Person.prototype.age = <span class="number">12</span>;</span><br><span class="line">Person.prototype.gender = <span class="string">&#x27;FEMALE&#x27;</span>;</span><br><span class="line"></span><br><span class="line">Person.prototype.sayName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> Person();</span><br><span class="line"></span><br><span class="line">p1.sayName(); <span class="comment">// sera</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p2 = <span class="keyword">new</span> Person();</span><br><span class="line"></span><br><span class="line">p2.sayName(); <span class="comment">// sera</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.isPrototypeOf(p1)) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getPrototypeOf(p1)) <span class="comment">// Person &#123; name: &#x27;sera&#x27;, age: 12, gender: &#x27;FEMALE&#x27;, sayName: [Function] &#125;</span></span><br><span class="line"></span><br><span class="line">p2.name = <span class="string">&#x27;noJack&#x27;</span>;</span><br><span class="line">p2.sayName(); <span class="comment">// noJack</span></span><br><span class="line">p1.sayName(); <span class="comment">//sera</span></span><br></pre></td></tr></table></div></figure>

<p>使用 delete可以删除实例属性，从而可以再次访问原型的属性。</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">Person.prototype.name = <span class="string">&#x27;sera&#x27;</span>;</span><br><span class="line">Person.prototype.age = <span class="number">12</span>;</span><br><span class="line">Person.prototype.gender = <span class="string">&#x27;FEMALE&#x27;</span>;</span><br><span class="line"></span><br><span class="line">Person.prototype.sayName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> Person();</span><br><span class="line"></span><br><span class="line">p1.sayName(); <span class="comment">// sera</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p2 = <span class="keyword">new</span> Person();</span><br><span class="line"></span><br><span class="line">p2.sayName(); <span class="comment">// sera</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.isPrototypeOf(p1)) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getPrototypeOf(p1)) <span class="comment">// Person &#123; name: &#x27;sera&#x27;, age: 12, gender: &#x27;FEMALE&#x27;, sayName: [Function] &#125;</span></span><br><span class="line"></span><br><span class="line">p2.name = <span class="string">&#x27;noJack&#x27;</span>;</span><br><span class="line">p2.sayName(); <span class="comment">// noJack</span></span><br><span class="line">p1.sayName(); <span class="comment">//sera</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">delete</span> p2.name</span><br><span class="line"><span class="built_in">console</span>.log(p2.name) <span class="comment">//sera</span></span><br></pre></td></tr></table></div></figure>

<p>使用<code>hasOwnProperty()</code> 方法可以检测一个属性是存在于实例中还是原型中,存在实例中时返回 true</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">Person.prototype.name = <span class="string">&#x27;sera&#x27;</span>;</span><br><span class="line">Person.prototype.age = <span class="number">12</span>;</span><br><span class="line">Person.prototype.gender = <span class="string">&#x27;FEMALE&#x27;</span>;</span><br><span class="line"></span><br><span class="line">Person.prototype.sayName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> Person();</span><br><span class="line">p1.sayName(); <span class="comment">// sera</span></span><br><span class="line"><span class="keyword">var</span> p2 = <span class="keyword">new</span> Person();</span><br><span class="line">p2.sayName(); <span class="comment">// sera</span></span><br><span class="line"></span><br><span class="line">p1.job = <span class="string">&#x27;developer&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(p1.hasOwnProperty(<span class="string">&#x27;name&#x27;</span>)) <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(p1.hasOwnProperty(<span class="string">&#x27;job&#x27;</span>)) <span class="comment">// true</span></span><br></pre></td></tr></table></div></figure>


        <h4 id="原型与-in-操作符">
          <a href="#原型与-in-操作符" class="heading-link"><i class="fas fa-link"></i></a>原型与 in 操作符</h4>
      <p>使用 in 操作符：</p>
<ol>
<li><p>单独使用 （如果通过对象可以访问属性时候，返回 true，也就是通常说的遍历，无论是原型还是实例）</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">Person.prototype.name = <span class="string">&#x27;sera&#x27;</span>;</span><br><span class="line">Person.prototype.age = <span class="number">12</span>;</span><br><span class="line">Person.prototype.gender = <span class="string">&#x27;FEMALE&#x27;</span>;</span><br><span class="line"></span><br><span class="line">Person.prototype.sayName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> Person();</span><br><span class="line"></span><br><span class="line">p1.job = <span class="string">&#x27;developer&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;job&#x27;</span> <span class="keyword">in</span> p1) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;name&#x27;</span> <span class="keyword">in</span> p1) <span class="comment">// true</span></span><br></pre></td></tr></table></div></figure>

<p>结合 hasOwnProperty() 与 in ，判断属性存在原型还是 实例</p>
<p>存在于原型：hasOwnProperty() =&gt;false &amp;&amp;  in =&gt; true</p>
</li>
<li><p>结合 for  in 循环</p>
<p>返回的是能够通过对象访问的、可枚举的属性，包括实例属性与原型属性。屏蔽原型中的不可枚举属性</p>
</li>
<li><p>要获取对象所有可枚举的实例属性，Object.keys()</p>
</li>
</ol>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">Person.prototype.name = <span class="string">&#x27;sera&#x27;</span>;</span><br><span class="line">Person.prototype.age = <span class="number">12</span>;</span><br><span class="line">Person.prototype.gender = <span class="string">&#x27;FEMALE&#x27;</span>;</span><br><span class="line"></span><br><span class="line">Person.prototype.sayName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> Person();</span><br><span class="line">p1.job = <span class="string">&#x27;developer&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.keys(Person.prototype)) <span class="comment">// [ &#x27;name&#x27;, &#x27;age&#x27;, &#x27;gender&#x27;, &#x27;sayName&#x27; ]</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.keys(p1.__proto__)) <span class="comment">// [ &#x27;name&#x27;, &#x27;age&#x27;, &#x27;gender&#x27;, &#x27;sayName&#x27; ]</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.keys(p1)) <span class="comment">// [ &#x27;job&#x27; ]</span></span><br></pre></td></tr></table></div></figure>

<p>获取所有实例属性，无论是否可枚举</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyNames(p1)) <span class="comment">// [ &#x27;job&#x27; ]</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyNames(p1.__proto__)) <span class="comment">// [ &#x27;constructor&#x27;, &#x27;name&#x27;, &#x27;age&#x27;, &#x27;gender&#x27;, &#x27;sayName&#x27; ]</span></span><br></pre></td></tr></table></div></figure>

<p><strong>使用对象字面量重写原型方法</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">Person.prototype = &#123;</span><br><span class="line">  name: <span class="string">&#x27;sera&#x27;</span>,</span><br><span class="line">  age: <span class="number">18</span>,</span><br><span class="line">  gender: <span class="string">&#x27;FEMALE&#x27;</span>,</span><br><span class="line">  sayName: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>但是这样写的话，constructor就不指向Person了（包含原型对象的函数），相当于重写了 prototype 对象，因此没有了 constructor  属性，所以实例的 constructor实际指向 Person.prototype的原型里面的 constructor ,也就是( <code>p1.__proto__.__proto__.contructor </code>或者是<code>Person.prototype.__proto__.contructor </code>),所以这个时候 使用 实例 p1.contructor 已经不能判断对象的类型了。</p>
<blockquote>
<p>每个函数都有 prototype对象，这个对象会自动获得 constructor属性，constructor属性指向包含这个原型的函数。</p>
</blockquote>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.keys(Person.prototype)) <span class="comment">// [ &#x27;name&#x27;, &#x27;age&#x27;, &#x27;gender&#x27;, &#x27;sayName&#x27; ]</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyNames(Person.prototype)) <span class="comment">// [ &#x27;name&#x27;, &#x27;age&#x27;, &#x27;gender&#x27;, &#x27;sayName&#x27; ]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.keys(p1.__proto__)) <span class="comment">// [ &#x27;name&#x27;, &#x27;age&#x27;, &#x27;gender&#x27;, &#x27;sayName&#x27; ]</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyNames(p1.__proto__)) <span class="comment">// [ &#x27;name&#x27;, &#x27;age&#x27;, &#x27;gender&#x27;, &#x27;sayName&#x27; ]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyNames(p1.__proto__.__proto__))</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * [ &#x27;constructor&#x27;,</span></span><br><span class="line"><span class="comment">  &#x27;__defineGetter__&#x27;,</span></span><br><span class="line"><span class="comment">  &#x27;__defineSetter__&#x27;,</span></span><br><span class="line"><span class="comment">  &#x27;hasOwnProperty&#x27;,</span></span><br><span class="line"><span class="comment">  &#x27;__lookupGetter__&#x27;,</span></span><br><span class="line"><span class="comment">  &#x27;__lookupSetter__&#x27;,</span></span><br><span class="line"><span class="comment">  &#x27;isPrototypeOf&#x27;,</span></span><br><span class="line"><span class="comment">  &#x27;propertyIsEnumerable&#x27;,</span></span><br><span class="line"><span class="comment">  &#x27;toString&#x27;,</span></span><br><span class="line"><span class="comment">  &#x27;valueOf&#x27;,</span></span><br><span class="line"><span class="comment">  &#x27;__proto__&#x27;,</span></span><br><span class="line"><span class="comment">  &#x27;toLocaleString&#x27; ]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">console</span>.log(p1 <span class="keyword">instanceof</span> <span class="built_in">Object</span>) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(p1 <span class="keyword">instanceof</span> Person) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(p1.constructor == <span class="built_in">Object</span>) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(p1.constructor == Person) <span class="comment">// false</span></span><br></pre></td></tr></table></div></figure>

<p>如果 constructor很重要，那么就需要在重写的 <code>Person.prototype</code>里面重新设定了。</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Person.prototype = &#123;</span><br><span class="line">  <span class="title">constructor</span>: <span class="title">Person</span>,</span><br><span class="line">  <span class="title">name</span>: &#x27;<span class="title">sera</span>&#x27;,</span><br><span class="line">  <span class="title">age</span>: 18,</span><br><span class="line">  <span class="title">gender</span>: &#x27;<span class="title">FEMALE</span>&#x27;,</span><br><span class="line">  <span class="title">sayName</span>: <span class="title">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>实例中的指针仅指向原型，而不指向构造函数。实例与原型松散连接。</p>
<p>重点！！！！！调用构造函数时，会为实例添加一个指向最初原型的 prototype指针，而把原型修改为另个全新的对象（重写），就相当于切断了构造函数与最初原型的全部联系。</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> Person()</span><br><span class="line"></span><br><span class="line">Person.prototype = &#123;</span><br><span class="line">  <span class="title">constructor</span>: <span class="title">Person</span>,</span><br><span class="line">  <span class="title">name</span>: &#x27;<span class="title">sera</span>&#x27;,</span><br><span class="line">  <span class="title">age</span>: 18,</span><br><span class="line">  <span class="title">gender</span>: &#x27;<span class="title">FEMALE</span>&#x27;,</span><br><span class="line">  <span class="title">sayName</span>: <span class="title">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">p1.sayName() <span class="comment">// error: p1.sayName is not a function</span></span><br></pre></td></tr></table></div></figure>

<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> Person()</span><br><span class="line"></span><br><span class="line">Person.prototype = &#123;</span><br><span class="line">  <span class="title">constructor</span>: <span class="title">Person</span>,</span><br><span class="line">  <span class="title">name</span>: &#x27;<span class="title">sera</span>&#x27;,</span><br><span class="line">  <span class="title">age</span>: 22,</span><br><span class="line">  <span class="title">gender</span>: &#x27;<span class="title">FEMALE</span>&#x27;,</span><br><span class="line">  <span class="title">sayName</span>: <span class="title">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p2 = <span class="keyword">new</span> Person()</span><br><span class="line">p2.sayName() <span class="comment">// sera</span></span><br><span class="line">p1.sayName() <span class="comment">// error p1.sayName is not a function</span></span><br></pre></td></tr></table></div></figure>

<p><img src="/2020/06/30/%E5%8E%9F%E5%9E%8B%E9%93%BE%E5%AD%A6%E4%B9%A0/%E5%9B%BE%E5%BD%A2%E8%A7%A3%E7%AD%94.png" alt="image-20201021152710594"></p>
<p>原型对象存在的问题：共享，如果属性有引用类型值，那么A修改之后B也会被修改。</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">Person.prototype = &#123;</span><br><span class="line">  <span class="title">constructor</span>: <span class="title">Person</span>,</span><br><span class="line">  <span class="title">name</span>: &#x27;<span class="title">sera</span>&#x27;,</span><br><span class="line">  <span class="title">age</span>: 18,</span><br><span class="line">  <span class="title">gender</span>: &#x27;<span class="title">FEMALE</span>&#x27;,</span><br><span class="line">  <span class="title">friends</span>: [&#x27;<span class="title">noJack</span>&#x27;],</span><br><span class="line">  <span class="title">sayName</span>: <span class="title">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> Person()</span><br><span class="line"><span class="keyword">const</span> p2 = <span class="keyword">new</span> Person()</span><br><span class="line">p1.friends.push(<span class="string">&#x27;isJack&#x27;</span>)</span><br><span class="line"><span class="built_in">console</span>.log(p1.friends) <span class="comment">// [ &#x27;noJack&#x27;, &#x27;isJack&#x27; ]</span></span><br><span class="line"><span class="built_in">console</span>.log(p2.friends) <span class="comment">// [ &#x27;noJack&#x27;, &#x27;isJack&#x27; ]</span></span><br></pre></td></tr></table></div></figure>


        <h3 id="结合使用构造函数模式与原型模式">
          <a href="#结合使用构造函数模式与原型模式" class="heading-link"><i class="fas fa-link"></i></a>结合使用构造函数模式与原型模式</h3>
      <blockquote>
<p>认同度最高，使用最广泛</p>
</blockquote>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span> (<span class="params">name, age, gender</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.name = name;</span><br><span class="line">  <span class="built_in">this</span>.age = age;</span><br><span class="line">  <span class="built_in">this</span>.gender = gender;</span><br><span class="line">  <span class="built_in">this</span>.friends = [<span class="string">&#x27;noJack&#x27;</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Person.prototype = &#123;</span><br><span class="line">  <span class="title">constructor</span>: <span class="title">Person</span>,</span><br><span class="line">  <span class="title">sayName</span>: <span class="title">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> Person(<span class="string">&#x27;sera&#x27;</span>, <span class="number">22</span>, <span class="string">&#x27;FEMALE&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> p2 = <span class="keyword">new</span> Person(<span class="string">&#x27;taro&#x27;</span>, <span class="number">25</span>, <span class="string">&#x27;MALE&#x27;</span>);</span><br><span class="line">p1.friends.push(<span class="string">&#x27;isJack&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(p1);</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Person &#123;</span></span><br><span class="line"><span class="comment">  name: &#x27;sera&#x27;,</span></span><br><span class="line"><span class="comment">  age: 22,</span></span><br><span class="line"><span class="comment">  gender: &#x27;FEMALE&#x27;,</span></span><br><span class="line"><span class="comment">  friends: [ &#x27;noJack&#x27;, &#x27;isJack&#x27; ] &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">console</span>.log(p2); <span class="comment">// Person &#123; name: &#x27;taro&#x27;, age: 25, gender: &#x27;MALE&#x27;, friends: [ &#x27;noJack&#x27; ] &#125;</span></span><br></pre></td></tr></table></div></figure>


        <h3 id="动态原型模型">
          <a href="#动态原型模型" class="heading-link"><i class="fas fa-link"></i></a>动态原型模型</h3>
      <figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span> (<span class="params">name, age, gender</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.name = name;</span><br><span class="line">  <span class="built_in">this</span>.age = age;</span><br><span class="line">  <span class="built_in">this</span>.gender = gender;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 只在初次调用构造函数时候执行</span></span><br><span class="line">  <span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="built_in">this</span>.sayName !== <span class="string">&#x27;function&#x27;</span>) &#123;</span><br><span class="line">    Person.prototype.sayName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> Person(<span class="string">&#x27;sera&#x27;</span>, <span class="number">22</span>, <span class="string">&#x27;FEMALE&#x27;</span>);</span><br><span class="line">p1.sayName(); <span class="comment">// sera</span></span><br></pre></td></tr></table></div></figure>


        <h3 id="寄生构造函数模式">
          <a href="#寄生构造函数模式" class="heading-link"><i class="fas fa-link"></i></a>寄生构造函数模式</h3>
      <figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span> (<span class="params">name, age, gender</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> o = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">  o.name = name;</span><br><span class="line">  o.age = age;</span><br><span class="line">  o.gender = gender;</span><br><span class="line">  o.sayName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> o;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> Person(<span class="string">&#x27;sera&#x27;</span>, <span class="number">18</span>, <span class="string">&#x27;FEMALE&#x27;</span>);</span><br><span class="line">p1.sayName() <span class="comment">//sera</span></span><br></pre></td></tr></table></div></figure>

<p>构造函数在无返回值的情况下，默认是会返回新的对象实例。</p>
<p>使用情境：假设我们需要一个具有特殊方法的数组，但是又不能直接修改Array构造函数</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SpecialArray</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line">  arr.push.apply(arr, <span class="built_in">arguments</span>);</span><br><span class="line"></span><br><span class="line">  arr.toJoinArr = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.join(<span class="string">&#x27;|&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> colors = <span class="keyword">new</span> SpecialArray(<span class="string">&#x27;blue&#x27;</span>, <span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;yellow&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(colors.toJoinArr())</span><br></pre></td></tr></table></div></figure>


        <h3 id="稳妥构造函数模式">
          <a href="#稳妥构造函数模式" class="heading-link"><i class="fas fa-link"></i></a>稳妥构造函数模式</h3>
      <blockquote>
<p>没有公共属性，而且方法也不引用 this</p>
</blockquote>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span> (<span class="params">name, age, gender</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> o = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">  o.sayName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(name)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> o;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> Person(<span class="string">&#x27;sera&#x27;</span>, <span class="number">18</span>, <span class="string">&#x27;FEMALE&#x27;</span>);</span><br><span class="line">p1.sayName() <span class="comment">//sera</span></span><br></pre></td></tr></table></div></figure>

<hr>

        <h2 id="继承">
          <a href="#继承" class="heading-link"><i class="fas fa-link"></i></a>继承</h2>
      <p>ECMAScript只支持实现继承，主要靠原型链实现。</p>
<p>回顾构造函数，原型与实例的关系：</p>
<blockquote>
<p>每个构造函数都有一个原型对象（<code>Person.prototype</code>），在实例初始化会有一个内部指针指向构造函数的原型（<code>p1.__proto__</code>）,原型对象包含一个指向包括该原型的构造函数的指针（constructor）</p>
</blockquote>

        <h3 id="原型链">
          <a href="#原型链" class="heading-link"><i class="fas fa-link"></i></a>原型链</h3>
      <p>实现原型链的基本模式</p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2020/06/28/%E5%BD%A9%E8%89%B2%E6%8E%A7%E5%88%B6%E5%8F%B0/">彩色控制台</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2020-06-28</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2020-11-23</span></span><span class="post-meta-item post-meta-item--wordcount"><span class="post-meta-item__icon"><i class="far fa-file-word"></i></span><span class="post-meta-item__info">字数统计</span><span class="post-meta-item__value">480</span></span><span class="post-meta-item post-meta-item--readtime"><span class="post-meta-item__icon"><i class="far fa-clock"></i></span><span class="post-meta-item__info">阅读时长</span><span class="post-meta-item__value">3分</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h2 id="格式化内容">
          <a href="#格式化内容" class="heading-link"><i class="fas fa-link"></i></a>格式化内容</h2>
      <p>控制台我们一般用来打印日志，最近我研究百度首页发现了百度控制台中竟然有红色字体，如下:</p>
<p><img src="/2020/06/28/%E5%BD%A9%E8%89%B2%E6%8E%A7%E5%88%B6%E5%8F%B0/%E5%BD%A9%E8%89%B2%E6%8E%A7%E5%88%B6%E5%8F%B0.png" alt="彩色控制台"></p>
<p>于是我也心血来潮研究了一波，发现<code>console.log()</code> 与 c 语言的 <code>printf</code> 和  <code>java</code> 的 <code>System.out.printf()</code>一样都可以对输入的内容进行格式化(参数替换)。</p>
<p>可支持的参数有：</p>
<div class="table-container"><table>
<thead>
<tr>
<th align="center">Substitution string</th>
<th align="center">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>%o</code> or <code>%O</code></td>
<td align="center">打印 JavaScript 对象。在审阅器点击对象名字可展开更多对象的信息。</td>
</tr>
<tr>
<td align="center"><code>%d</code> or <code>%i</code></td>
<td align="center">打印整数。支持数字格式化。<strong>例如, <code>console.log(&quot;Foo %.2d&quot;, 1.1)</code> 会输出有先导 0 的两位有效数字: <code>Foo 01</code>。</strong>（错误）</td>
</tr>
<tr>
<td align="center"><code>%s</code></td>
<td align="center">打印字符串。</td>
</tr>
<tr>
<td align="center"><code>%f</code></td>
<td align="center">打印浮点数。支持格式化，比如 <code>console.log(&quot;Foo %.2f&quot;, 1.1)</code> 会输出两位小数: <code>Foo 1.10</code></td>
</tr>
</tbody></table></div>
<p>以上摘选自<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Console#Outputting_text_to_the_console">MDN</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>，<strong>Chrome 不支持精确格式化</strong></p>
<p>知道以上参数我们可以</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;%s&#x27;</span>, <span class="string">&#x27;lululu,测试&#x27;</span>) <span class="comment">// lululu,测试</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;%d&#x27;</span>, <span class="string">&#x27;lululu,测试&#x27;</span>) <span class="comment">// NaN</span></span><br><span class="line"><span class="comment">// 本着严谨的态度，本博主测试了 google 与 safari 发现数字不会存在先导0 </span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;Foo %.2d&quot;</span>, <span class="number">1.1</span>)  <span class="comment">// Foo 1</span></span><br></pre></td></tr></table></div></figure>

<p><img src="/2020/06/28/%E5%BD%A9%E8%89%B2%E6%8E%A7%E5%88%B6%E5%8F%B0/%E8%B0%B7%E6%AD%8C%E6%B5%8B%E8%AF%95%E5%85%88%E5%AF%BC0.png" alt="google测试先导0"></p>
<p>图： google测试数字格式化</p>
<p><img src="/2020/06/28/%E5%BD%A9%E8%89%B2%E6%8E%A7%E5%88%B6%E5%8F%B0/safari%E6%B5%8B%E8%AF%95%E5%85%88%E5%AF%BC0.png" alt="safari测试先导0"></p>
<p>图： safari测试数字格式化</p>

        <h2 id="样式调整">
          <a href="#样式调整" class="heading-link"><i class="fas fa-link"></i></a>样式调整</h2>
      <p>同格式化一样，写样式的参数替换为<code>%c</code></p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;%c 是狐狸没错&#x27;</span>, <span class="string">&#x27;color: red;&#x27;</span>)</span><br></pre></td></tr></table></div></figure>

<p><img src="/2020/06/28/%E5%BD%A9%E8%89%B2%E6%8E%A7%E5%88%B6%E5%8F%B0/console.log%E6%A0%B7%E5%BC%8F.png" alt="console.log样式"></p>
<p>简单的成功之后，本博主开始逐渐嚣张</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> consoleStyle = <span class="string">`</span></span><br><span class="line"><span class="string">  color: yellow;</span></span><br><span class="line"><span class="string">  font-size: 40px;</span></span><br><span class="line"><span class="string">  background: #dd3e54;</span></span><br><span class="line"><span class="string">  background: -webkit-linear-gradient(to right, #6be585, #dd3e54);</span></span><br><span class="line"><span class="string">  background: linear-gradient(to right, #6be585, #dd3e54);</span></span><br><span class="line"><span class="string">`</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> consoleStyle2 = <span class="string">`</span></span><br><span class="line"><span class="string">  color: green;</span></span><br><span class="line"><span class="string">  font-size: 30px;</span></span><br><span class="line"><span class="string">  background: #59C173;  /* fallback for old browsers */</span></span><br><span class="line"><span class="string">  background: -webkit-linear-gradient(to right, #5D26C1, #a17fe0, #59C173);  /* Chrome 10-25, Safari 5.1-6 */</span></span><br><span class="line"><span class="string">  background: linear-gradient(to right, #5D26C1, #a17fe0, #59C173); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */</span></span><br><span class="line"><span class="string">`</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;%c%s%c%s&quot;</span>, consoleStyle, <span class="string">&quot;这是小狐狸&quot;</span>, consoleStyle2, <span class="string">&quot;lalala&quot;</span>)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;%c%s&quot;</span>, consoleStyle, <span class="string">&quot;这是小狐狸LULULU&quot;</span>)</span><br></pre></td></tr></table></div></figure>

<p><img src="/2020/06/28/%E5%BD%A9%E8%89%B2%E6%8E%A7%E5%88%B6%E5%8F%B0/%E6%A0%B7%E5%BC%8F%E7%BB%88%E7%BB%93%E7%89%88.png" alt="样式终结版"></p>
<p><strong>—原创，转载请注明—</strong></p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2020/05/20/this-%E5%92%8C%E5%AF%B9%E8%B1%A1%E5%8E%9F%E5%9E%8B%E5%AD%A6%E4%B9%A0/">this</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2020-05-20</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2020-11-23</span></span><span class="post-meta-item post-meta-item--wordcount"><span class="post-meta-item__icon"><i class="far fa-file-word"></i></span><span class="post-meta-item__info">字数统计</span><span class="post-meta-item__value">57</span></span><span class="post-meta-item post-meta-item--readtime"><span class="post-meta-item__icon"><i class="far fa-clock"></i></span><span class="post-meta-item__info">阅读时长</span><span class="post-meta-item__value">1分</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h1 id="this概述">
          <a href="#this概述" class="heading-link"><i class="fas fa-link"></i></a>this概述</h1>
      <p>this是 <code>JavaScript</code> 的一个关键字。</p>
<p>使用this可以在不同的上下文对象中重复使用函数.</p>
<p>只有函数可以改变环境，对象字面量等都无法改变字面量</p>
</div></div></article></section><nav class="paginator"><div class="paginator-inner"><a class="extend prev" rel="prev" href="/page/3/"><i class="fas fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/5/"><i class="fas fa-angle-right"></i></a></div></nav></div></div><div class="sidebar-wrap" id="sidebar-wrap"><aside class="sidebar" id="sidebar"><section class="sidebar-toc hide"></section><!-- ov = overview--><section class="sidebar-ov"><div class="sidebar-ov-author"><div class="sidebar-ov-author__avatar"><img class="sidebar-ov-author__avatar_img" src="/images/icons/stun-logo.svg" alt="avatar"></div><p class="sidebar-ov-author__text">是狐狸丫</p></div><div class="sidebar-ov-social"><a class="sidebar-ov-social-item" href="https://github.com/serahuli" target="_blank" rel="noopener" data-popover="Github" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fab fa-github"></i></span></a><a class="sidebar-ov-social-item" href="https://www.cnblogs.com/serahuli" target="_blank" rel="noopener" data-popover="博客园" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fab fa-pinterest"></i></span></a></div><div class="sidebar-ov-state"><a class="sidebar-ov-state-item sidebar-ov-state-item--posts" href="/archives/"><div class="sidebar-ov-state-item__count">47</div><div class="sidebar-ov-state-item__name">归档</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--categories" href="/categories/"><div class="sidebar-ov-state-item__count">10</div><div class="sidebar-ov-state-item__name">分类</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--tags" href="/tags/"><div class="sidebar-ov-state-item__count">18</div><div class="sidebar-ov-state-item__name">标签</div></a></div></section></aside></div><div class="clearfix"></div></div></main><footer class="footer" id="footer"><div class="footer-inner"><div><span>Copyright © 2019~2021</span><span class="footer__icon"><i class="fas fa-heart"></i></span><span>sera</span></div><div>🦋 你若盛开，蝴蝶自来 🦋</div></div></footer><div class="loading-bar" id="loading-bar"><div class="loading-bar__progress"></div></div><div class="back2top" id="back2top"><span class="back2top__icon"><i class="fas fa-rocket"></i></span></div></div><script src="https://cdn.jsdelivr.net/npm/jquery@v3.4.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.ui.min.js"></script><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script><script src="/js/utils.js?v=2.1.1"></script><script src="/js/stun-boot.js?v=2.1.1"></script><script src="/js/scroll.js?v=2.1.1"></script><script src="/js/header.js?v=2.1.1"></script><script src="/js/sidebar.js?v=2.1.1"></script></body></html>